/*! For license information please see main.5f7d13a1.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,A=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(1!==o||1!==l)do{if(o--,0>--l||i[o]!==a[l]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=l);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ce=null,Se=null;function xe(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),we(e.stateNode,e.type,t))}}function Ee(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Te(e,t,n)}finally{Pe=!1,(null!==Ce||null!==Se)&&(Ie(),Ne())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Ae=null,Fe=!1,ze=null,Ue={onError:function(e){Me=!0,Ae=e}};function Be(e,t,n,r,i,a,o,l,s){Me=!1,Ae=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var l=o&~i;0!==l?r=dt(l):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,Ct,St,xt,Et=!1,Nt=[],Tt=null,It=null,Pt=null,Rt=new Map,jt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void xt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(zt),jt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Pt&&Bt(Pt,e),Rt.forEach(t),jt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)At(n),null===n.blockedOn&&Ot.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=1,Qt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function $t(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=4,Qt(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Qt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Mt(It,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jt.set(a,Mt(jt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=gi(e=ke(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=A({},un,{view:0,detail:0}),hn=an(dn),fn=A({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),pn=an(fn),vn=an(A({},fn,{dataTransfer:0})),mn=an(A({},dn,{relatedTarget:0})),yn=an(A({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=A({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),bn=an(A({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return Sn}var En=A({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(En),Tn=an(A({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(A({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=an(A({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=A({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=an(Rn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,An=c&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Kn(e){Fr(e,0)}function Yn(e){if(Q(bi(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Qn=$n=null)}function nr(e){if("value"===e.propertyName&&Yn(Qn)){var t=[];Vn(t,Qn,e,ke(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Qn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=$r(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Cr={},Sr={};function xr(e){if(Cr[e])return Cr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Er=xr("animationend"),Nr=xr("animationiteration"),Tr=xr("animationstart"),Ir=xr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Pr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];jr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}jr(Er,"onAnimationEnd"),jr(Nr,"onAnimationIteration"),jr(Tr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,l,s,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Ae;Me=!1,Ae=null,Fe||(Fe=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,l,u),a=s}else for(o=0;o<r.length;o++){if(s=(l=r[o]).instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;Ar(i,l,u),a=s}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var i=Vt;break;case 4:i=$t;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==l;){if(null===(o=gi(l)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}l=l.parentNode}}r=r.return}Re((function(){var r=a,i=ke(n),o=[];e:{var l=Pr.get(e);if(void 0!==l){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":u="focus",s=mn;break;case"focusout":u="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Er:case Nr:case Tr:s=yn;break;case Ir:s=Pn;break;case"scroll":s=hn;break;case"wheel":s=jn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==l?l+"Capture":null:l;c=[];for(var f,p=r;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==h&&(null!=(v=je(p,h))&&c.push(Vr(p,v,f)))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,i),o.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[pi])&&(s||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==s?l:bi(s),f=null==u?l:bi(u),(l=new c(v,p+"leave",s,n,i)).target=d,l.relatedTarget=f,v=null,gi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,v=c),d=v,s&&u)e:{for(h=u,p=0,f=c=s;f;f=Qr(f))p++;for(f=0,v=h;v;v=Qr(v))f++;for(;0<p-f;)c=Qr(c),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Qr(c),h=Qr(h)}c=null}else c=null;null!==s&&Kr(o,l,s,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(s=(l=r?bi(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var m=Gn;else if(Hn(l))if(Jn)m=or;else{m=ir;var y=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(o,m,n,i):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ee(l,"number",l.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else qn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(An&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=$r(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Bn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Vr(e,a,i)),null!=(a=je(e,t))&&r.push(Vr(e,a,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==u&&(l=u,i?null!=(s=je(n,a))&&o.unshift(Vr(n,s,l)):i||null!=(s=je(n,a))&&o.push(Vr(n,s,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ri;function li(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[fi]||null}var wi=[],Ci=-1;function Si(e){return{current:e}}function xi(e){0>Ci||(e.current=wi[Ci],wi[Ci]=null,Ci--)}function Ei(e,t){Ci++,wi[Ci]=e.current,e.current=t}var Ni={},Ti=Si(Ni),Ii=Si(!1),Pi=Ni;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ii),xi(Ti)}function Di(e,t,n){if(Ti.current!==Ni)throw Error(a(168));Ei(Ti,t),Ei(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return A({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Pi=Ti.current,Ei(Ti,e),Ei(Ii,Ii.current),!0}function Ai(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ii),xi(Ti),Ei(Ti,e)):xi(Ii),Ei(Ii,n)}var Fi=null,zi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,qi),i}finally{_t=t,Ui=!1}}return null}var Wi=[],Hi=0,Vi=null,$i=0,Qi=[],Ki=0,Yi=null,Gi=1,Ji="";function Xi(e,t){Wi[Hi++]=$i,Wi[Hi++]=Vi,Vi=e,$i=t}function Zi(e,t,n){Qi[Ki++]=Gi,Qi[Ki++]=Ji,Qi[Ki++]=Yi,Yi=e;var r=Gi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Gi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Vi;)Vi=Wi[--Hi],Wi[Hi]=null,$i=Wi[--Hi],Wi[Hi]=null;for(;e===Yi;)Yi=Qi[--Ki],Qi[Ki]=null,Ji=Qi[--Ki],Qi[Ki]=null,Gi=Qi[--Ki],Qi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Gi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!la(e,t)){if(sa(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&la(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,_a=null,ba=null;function ka(){ba=_a=ga=null}function wa(e){var t=ya.current;xi(ya),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ea=null;function Na(e){null===Ea?Ea=[e]:Ea.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Na(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Is)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Na(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Aa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===o?a=u:o.next=u,o=s;var c=e.alternate;null!==c&&((l=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===l?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=i.baseState;for(o=0,c=u=s=null,l=a;;){var h=l.lane,f=l.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,v=l;switch(h=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(f,d,h):p)||void 0===h)break e;d=A({},d,h);break e;case 2:Pa=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(u=c=f,s=d):c=c.next=f,o|=h;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(h=l).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);As|=o,e.lanes=o,e.memoizedState=d}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(ru(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(ru(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(ru(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Wa(e,t,n){var r=!1,i=Ni,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=ji(t)?Pi:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ni),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=ji(t)?Pi:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function $a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Du(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===j&&Ka(a)===t.type)?((r=i(t,n.props)).ref=$a(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=$a(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=$a(e,null,t),n.return=e,n;case w:return(t=zu(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case j:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Qa(t,r)}return null}function v(i,a,l,s){for(var u=null,c=null,d=a,v=a=0,m=null;null!==d&&v<l.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=f(i,d,l[v],s);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?u=y:c.sibling=y,c=y,d=m}if(v===l.length)return n(i,d),ia&&Xi(i,v),u;if(null===d){for(;v<l.length;v++)null!==(d=h(i,l[v],s))&&(a=o(d,a,v),null===c?u=d:c.sibling=d,c=d);return ia&&Xi(i,v),u}for(d=r(i,d);v<l.length;v++)null!==(m=p(d,i,v,l[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),u}function m(i,l,s,u){var c=L(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=l,m=l=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=f(i,v,g.value,u);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),l=o(_,l,m),null===d?c=_:d.sibling=_,d=_,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,u))&&(l=o(g,l,m),null===d?c=g:d.sibling=g,d=g);return ia&&Xi(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),l=o(g,l,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===C){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===j&&Ka(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=$a(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((a=Mu(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lu(o.type,o.key,o.props,null,r.mode,s)).ref=$a(r,a,o),s.return=r,r=s)}return l(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zu(o,r.mode,s)).return=r,r=a}return l(r);case j:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fu(o,r.mode,s)).return=r,r=a),l(r)):n(r,a)}}var Ga=Ya(!0),Ja=Ya(!1),Xa={},Za=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ei(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var lo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,bo=0,ko=0;function wo(){throw Error(a(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ll:sl,e=n(r,i),_o){o=0;do{if(_o=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=ul,e=n(r,i)}while(_o)}if(ho.current=ol,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function No(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=No(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=l=null,u=null,c=o;do{var d=c.lane;if((po&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=h,l=r):u=u.next=h,vo.lanes|=d,As|=d}c=c.next}while(null!==c&&c!==o);null===u?l=r:u.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,As|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=No(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{o=e(o,l.action),l=l.next}while(l!==i);lr(o,t.memoizedState)||(bl=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function jo(e,t){var n=vo,r=No(),i=t(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,bl=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ps)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Ao(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Ao(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ao(e){var t=Ia(e,1);null!==t&&ru(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return No().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=No();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Wo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return qo(2048,8,e,t)}function Vo(e,t){return qo(4,2,e,t)}function $o(e,t){return qo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Qo.bind(null,t,e),n)}function Yo(){}function Go(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=vt(),vo.lanes|=n,As|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{_t=n,fo.transition=r}}function el(){return No().memoizedState}function tl(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))il(t,n);else if(null!==(n=Ta(e,t,n,r))){ru(n,e,r,tu()),al(n,t,r)}}function nl(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))il(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,lr(l,o)){var s=t.interleaved;return null===s?(i.next=i,Na(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Ta(e,t,i,r))&&(ru(n,e,r,i=tu()),al(n,t,r))}}function rl(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function il(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ol={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ll={readContext:xa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ps)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ps.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Gi&~(1<<32-ot(Gi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sl={readContext:xa,useCallback:Go,useContext:xa,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:Vo,useLayoutEffect:$o,useMemo:Jo,useReducer:Io,useRef:Uo,useState:function(){return Io(To)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(No(),mo.memoizedState,e)},useTransition:function(){return[Io(To)[0],No().memoizedState]},useMutableSource:Ro,useSyncExternalStore:jo,useId:el,unstable_isNewReconciler:!1},ul={readContext:xa,useCallback:Go,useContext:xa,useEffect:Ho,useImperativeHandle:Ko,useInsertionEffect:Vo,useLayoutEffect:$o,useMemo:Jo,useReducer:Po,useRef:Uo,useState:function(){return Po(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=No();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[Po(To)[0],No().memoizedState]},useMutableSource:Ro,useSyncExternalStore:jo,useId:el,unstable_isNewReconciler:!1};function cl(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fl="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,$s=r),hl(0,t)},n}function vl(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hl(0,t),"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ml(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _l=b.ReactCurrentOwner,bl=!1;function kl(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ga(t,e.child,n,r)}function wl(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||bl?(ia&&n&&ea(t),t.flags|=1,kl(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vl(e,t,i))}function Cl(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Sl(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Vl(e,t,i)}return t.flags|=1,(e=Du(a,r)).ref=t.ref,e.return=t,t.child=e}function Sl(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vl(e,t,i);0!==(131072&e.flags)&&(bl=!0)}}return Nl(e,t,n,r,i)}function xl(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Os),Os|=r;return kl(e,t,i,n),t.child}function El(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,i){var a=ji(n)?Pi:Ti.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||bl?(ia&&r&&ea(t),t.flags|=1,kl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vl(e,t,i))}function Tl(e,t,n,r,i){if(ji(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hl(e,t),Wa(t,n,r),Va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=xa(u):u=Ri(t,u=ji(n)?Pi:Ti.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==r||s!==u)&&Ha(t,o,r,u),Pa=!1;var h=t.memoizedState;o.state=h,Aa(t,r,o,i),s=t.memoizedState,l!==r||h!==s||Ii.current||Pa?("function"===typeof c&&(Ua(t,n,c,r),s=t.memoizedState),(l=Pa||qa(t,n,l,r,h,s,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ja(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ma(t.type,l),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=xa(s):s=Ri(t,s=ji(n)?Pi:Ti.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l!==d||h!==s)&&Ha(t,o,r,s),Pa=!1,h=t.memoizedState,o.state=h,Aa(t,r,o,i);var p=t.memoizedState;l!==d||h!==p||Ii.current||Pa?("function"===typeof f&&(Ua(t,n,f,r),p=t.memoizedState),(u=Pa||qa(t,n,u,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=u):("function"!==typeof o.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Il(e,t,n,r,a,i)}function Il(e,t,n,r,i,a){El(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ai(t,n,!1),Vl(e,t,a);r=t.stateNode,_l.current=t;var l=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,l,a)):kl(e,t,l,a),t.memoizedState=r.state,i&&Ai(t,n,!0),t.child}function Pl(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Rl(e,t,n,r,i){return fa(),pa(i),t.flags|=256,kl(e,t,n,r),t.child}var jl,Ol,Dl,Ll,Ml={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fl(e,t,n){var r,i=t.pendingProps,o=lo.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(lo,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,l?(i=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Au(s,i,0,null),e=Mu(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Ml,e):zl(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,l){if(n)return 256&t.flags?(t.flags&=-257,Ul(e,t,l,r=dl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Au({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,l,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ga(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Ml,o);if(0===(1&t.mode))return Ul(e,t,l,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Ul(e,t,l,r=dl(o=Error(a(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=Ps)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|l))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ia(e,i),ru(r,e,i,-1))}return mu(),Ul(e,t,l,r=dl(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Qi[Ki++]=Gi,Qi[Ki++]=Ji,Qi[Ki++]=Yi,Gi=e.id,Ji=e.overflow,Yi=t),t=zl(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(l){l=i.fallback,s=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Du(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?l=Du(r,l):(l=Mu(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,s=null===(s=e.child.memoizedState)?Al(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Ml,i}return e=(l=e.child).sibling,i=Du(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zl(e,t){return(t=Au({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ul(e,t,n,r){return null!==r&&pa(r),Ga(t,e.child,null,n),(e=zl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function ql(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Wl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(kl(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bl(e,n,t);else if(19===e.tag)Bl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ql(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ql(t,!0,n,null,a);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),As|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Du(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Du(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $l(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ql(t),null;case 1:case 17:return ji(t.type)&&Oi(),Ql(t),null;case 3:return r=t.stateNode,io(),xi(Ii),xi(Ti),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(lu(aa),aa=null))),Ol(e,t),Ql(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Dl(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ql(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var u=o[s];"children"===s?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):l.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":$(r),Z(r,o,!0);break;case"textarea":$(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[fi]=r,jl(e,t,!1,!1),t.stateNode=e;e:{switch(s=_e(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":G(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=A({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&_(e,o,c,s))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ql(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ql(t),null;case 13:if(xi(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ql(t),o=!1}else null!==aa&&(lu(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Ls&&(Ls=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ql(t),null);case 4:return io(),Ol(e,t),null===e&&qr(t.stateNode.containerInfo),Ql(t),null;case 10:return wa(t.type._context),Ql(t),null;case 19:if(xi(lo),null===(o=t.memoizedState))return Ql(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)$l(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,$l(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Ws&&(t.flags|=128,r=!0,$l(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$l(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ql(t),null}else 2*Je()-o.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,$l(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=lo.current,Ei(lo,r?1&n|2:1&n),t):(Ql(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ql(t),6&t.subtreeFlags&&(t.flags|=8192)):Ql(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yl(e,t){switch(ta(t),t.tag){case 1:return ji(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ii),xi(Ti),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(lo),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}jl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ol=function(){},Dl=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=A({},i,{value:void 0}),r=A({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||s===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl=!1,Jl=!1,Xl="function"===typeof WeakSet?WeakSet:Set,Zl=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xu(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){xu(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ds=null,hs=!1;function fs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Jl||es(n,t);case 6:var r=ds,i=hs;ds=null,fs(e,t,n),hs=i,null!==(ds=r)&&(hs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(hs?(e=ds,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ds,n.stateNode));break;case 4:r=ds,i=hs,ds=n.stateNode.containerInfo,hs=!0,fs(e,t,n),ds=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Jl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}fs(e,t,n);break;case 1:if(!Jl&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xu(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Jl=(r=Jl)||null!==n.memoizedState,fs(e,t,n),Jl=r):fs(e,t,n);break;default:fs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xl),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,hs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===ds)throw Error(a(160));ps(o,l,i),ds=null,hs=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){xu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){xu(e,e.return,m)}try{rs(5,e,e.return)}catch(m){xu(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){xu(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,l=null!==n?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),_e(s,l);var c=_e(s,o);for(l=0;l<u.length;l+=2){var d=u[l],h=u[l+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):_(i,d,h,c)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){xu(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xu(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){xu(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qs=Je())),4&r&&vs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jl=(c=Jl)||d,ms(t,e),Jl=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zl=e,d=e.child;null!==d;){for(h=Zl=d;null!==Zl;){switch(p=(f=Zl).child,f.tag){case 0:case 11:case 14:case 15:rs(4,f,f.return);break;case 1:es(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){xu(r,n,m)}}break;case 5:es(f,f.return);break;case 22:if(null!==f.memoizedState){ws(h);continue}}null!==p?(p.return=f,Zl=p):ws(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,l=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,s.style.display=ve("display",l))}catch(m){xu(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){xu(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;us(e,ss(e),o);break;default:throw Error(a(161))}}catch(l){xu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _s(e,t,n){Zl=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zl;){var i=Zl,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gl;if(!o){var l=i.alternate,s=null!==l&&null!==l.memoizedState||Jl;l=Gl;var u=Jl;if(Gl=o,(Jl=s)&&!u)for(Zl=i;null!==Zl;)s=(o=Zl).child,22===o.tag&&null!==o.memoizedState?Cs(i):null!==s?(s.return=o,Zl=s):Cs(i);for(;null!==a;)Zl=a,bs(a,t,n),a=a.sibling;Zl=i,Gl=l,Jl=u}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zl=a):ks(e)}}function ks(e){for(;null!==Zl;){var t=Zl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jl||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(a(163))}Jl||512&t.flags&&as(t)}catch(f){xu(t,t.return,f)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function ws(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function Cs(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){xu(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){xu(t,i,s)}}var a=t.return;try{as(t)}catch(s){xu(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){xu(t,o,s)}}}catch(s){xu(t,t.return,s)}if(t===e){Zl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Zl=l;break}Zl=t.return}}var Ss,xs=Math.ceil,Es=b.ReactCurrentDispatcher,Ns=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Is=0,Ps=null,Rs=null,js=0,Os=0,Ds=Si(0),Ls=0,Ms=null,As=0,Fs=0,zs=0,Us=null,Bs=null,qs=0,Ws=1/0,Hs=null,Vs=!1,$s=null,Qs=null,Ks=!1,Ys=null,Gs=0,Js=0,Xs=null,Zs=-1,eu=0;function tu(){return 0!==(6&Is)?Je():-1!==Zs?Zs:Zs=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==js?js&-js:null!==va.transition?(0===eu&&(eu=vt()),eu):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function ru(e,t,n,r){if(50<Js)throw Js=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Is)&&e===Ps||(e===Ps&&(0===(2&Is)&&(Fs|=n),4===Ls&&su(e,js)),iu(e,r),1===n&&0===Is&&0===(1&t.mode)&&(Ws=Je()+500,zi&&qi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),l=1<<o,s=i[o];-1===s?0!==(l&n)&&0===(l&r)||(i[o]=ft(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=ht(e,e===Ps?js:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(uu.bind(null,e)):Bi(uu.bind(null,e)),oi((function(){0===(6&Is)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Zs=-1,eu=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=ht(e,e===Ps?js:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Is;Is|=2;var o=vu();for(Ps===e&&js===t||(Hs=null,Ws=Je()+500,fu(e,t));;)try{_u();break}catch(s){pu(e,s)}ka(),Es.current=o,Is=i,null!==Rs?t=0:(Ps=null,js=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ms,fu(e,0),su(e,r),iu(e,Je()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ms,fu(e,0),su(e,r),iu(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,Bs,Hs);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=qs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Bs,Hs),t);break}wu(e,Bs,Hs);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-ot(r);o=1<<l,(l=t[l])>i&&(i=l),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xs(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Bs,Hs),r);break}wu(e,Bs,Hs);break;default:throw Error(a(329))}}}return iu(e,Je()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Bs,Bs=n,null!==t&&lu(t)),e}function lu(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function su(e,t){for(t&=~zs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Is))throw Error(a(327));Cu();var t=ht(e,0);if(0===(1&t))return iu(e,Je()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ms,fu(e,0),su(e,t),iu(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Bs,Hs),iu(e,Je()),null}function cu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Ws=Je()+500,zi&&qi())}}function du(e){null!==Ys&&0===Ys.tag&&0===(6&Is)&&Cu();var t=Is;Is|=1;var n=Ts.transition,r=_t;try{if(Ts.transition=null,_t=1,e)return e()}finally{_t=r,Ts.transition=n,0===(6&(Is=t))&&qi()}}function hu(){Os=Ds.current,xi(Ds)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ii),xi(Ti),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(lo);break;case 10:wa(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ps=e,Rs=e=Du(e.current,null),js=Os=t,Ls=0,Ms=null,zs=Fs=As=0,Bs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pu(e,t){for(;;){var n=Rs;try{if(ka(),ho.current=ol,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,bo=0,Ns.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,l=n.return,s=n,u=t;if(t=js,s.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=s,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yl(l);if(null!==p){p.flags&=-257,gl(p,l,s,0,t),1&p.mode&&ml(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){ml(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&s.mode){var y=yl(l);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gl(y,l,s,0,t),pa(cl(u,s));break e}}o=u=cl(u,s),4!==Ls&&(Ls=2),null===Us?Us=[o]:Us.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pl(0,u,t));break e;case 1:s=u;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Qs||!Qs.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vl(o,s,t));break e}}o=o.return}while(null!==o)}ku(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vu(){var e=Es.current;return Es.current=ol,null===e?ol:e}function mu(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ps||0===(268435455&As)&&0===(268435455&Fs)||su(Ps,js)}function yu(e,t){var n=Is;Is|=2;var r=vu();for(Ps===e&&js===t||(Hs=null,fu(e,t));;)try{gu();break}catch(i){pu(e,i)}if(ka(),Is=n,Es.current=r,null!==Rs)throw Error(a(261));return Ps=null,js=0,Ls}function gu(){for(;null!==Rs;)bu(Rs)}function _u(){for(;null!==Rs&&!Ye();)bu(Rs)}function bu(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?ku(e):Rs=t,Ns.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Kl(n,t,Os)))return void(Rs=n)}else{if(null!==(n=Yl(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function wu(e,t,n){var r=_t,i=Ts.transition;try{Ts.transition=null,_t=1,function(e,t,n,r){do{Cu()}while(null!==Ys);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ps&&(Rs=Ps=null,js=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Pu(tt,(function(){return Cu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var l=_t;_t=1;var s=Is;Is|=4,Ns.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var l=0,s=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=l+i),h!==o||0!==r&&3!==h.nodeType||(u=l+r),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(s=l),f===o&&++d===r&&(u=l),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(k){xu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,_s(n,e,i),Ge(),Is=s,_t=l,Ts.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ys=e,Gs=i),o=e.pendingLanes,0===o&&(Qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vs)throw Vs=!1,e=$s,$s=null,e;0!==(1&Gs)&&0!==e.tag&&Cu(),o=e.pendingLanes,0!==(1&o)?e===Xs?Js++:(Js=0,Xs=e):Js=0,qi()}(e,t,n,r)}finally{Ts.transition=i,_t=r}return null}function Cu(){if(null!==Ys){var e=bt(Gs),t=Ts.transition,n=_t;try{if(Ts.transition=null,_t=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Gs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Zl=e.current;null!==Zl;){var o=Zl,l=o.child;if(0!==(16&Zl.flags)){var s=o.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Zl=c;null!==Zl;){var d=Zl;switch(d.tag){case 0:case 11:case 15:rs(8,d,o)}var h=d.child;if(null!==h)h.return=d,Zl=h;else for(;null!==Zl;){var f=(d=Zl).sibling,p=d.return;if(os(d),d===c){Zl=null;break}if(null!==f){f.return=p,Zl=f;break}Zl=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zl=o}}if(0!==(2064&o.subtreeFlags)&&null!==l)l.return=o,Zl=l;else e:for(;null!==Zl;){if(0!==(2048&(o=Zl).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zl=g;break e}Zl=o.return}}var _=e.current;for(Zl=_;null!==Zl;){var b=(l=Zl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Zl=b;else e:for(l=_;null!==Zl;){if(0!==(2048&(s=Zl).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(w){xu(s,s.return,w)}if(s===l){Zl=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Zl=k;break e}Zl=s.return}}if(Is=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Ts.transition=t}}return!1}function Su(e,t,n){e=Da(e,t=pl(0,t=cl(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function xu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){t=Da(t,e=vl(t,e=cl(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(js&n)===n&&(4===Ls||3===Ls&&(130023424&js)===js&&500>Je()-qs?fu(e,0):zs|=n),iu(e,t)}function Nu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ia(e,t))&&(yt(e,t,n),iu(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nu(e,n)}function Pu(e,t){return Qe(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Ru(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Du(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var l=2;if(r=e,"function"===typeof e)Ou(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case C:return Mu(n.children,i,o,t);case S:l=8,i|=8;break;case x:return(e=ju(12,n,t,2|i)).elementType=x,e.lanes=o,e;case I:return(e=ju(13,n,t,i)).elementType=I,e.lanes=o,e;case P:return(e=ju(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Au(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:l=10;break e;case N:l=9;break e;case T:l=11;break e;case R:l=14;break e;case j:l=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ju(l,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=ju(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,i,a,o,l,s){return e=new Uu(e,t,n,l,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=ju(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function qu(e){if(!e)return Ni;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(ji(n))return Li(e,n,t)}return t}function Wu(e,t,n,r,i,a,o,l,s){return(e=Bu(n,r,!0,e,0,a,0,l,s)).context=qu(null),n=e.current,(a=Oa(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Hu(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(ru(e,i,o,a),La(e,i,o)),o}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qu(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Pl(t),fa();break;case 5:ao(t);break;case 1:ji(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fl(e,t,n):(Ei(lo,1&lo.current),null!==(e=Vl(e,t,n))?e.sibling:null);Ei(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,xl(e,t,n)}return Vl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,ia&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hl(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Va(t,r,e,n),t=Il(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),kl(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hl(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=Tl(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=Cl(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Nl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Pl(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ja(e,t),Aa(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rl(e,t,r,n,i=cl(Error(a(423)),t));break e}if(r!==i){t=Rl(e,t,r,n,i=cl(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Vl(e,t,n);break e}kl(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,ni(r,i)?l=null:null!==o&&ni(r,o)&&(t.flags|=32),El(e,t),kl(e,t,l,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fl(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):kl(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wl(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return kl(e,t,t.pendingProps,n),t.child;case 8:case 12:return kl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Ei(ya,r._currentValue),r._currentValue=l,null!==o)if(lr(o.value,l)){if(o.children===i.children&&!Ii.current){t=Vl(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){l=o.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ca(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===o.tag)l=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(a(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Ca(l,n,t),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===t){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}kl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,kl(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Cl(e,t,r,i=ma(r.type,i),n);case 15:return Sl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hl(e,t),t.tag=1,ji(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),Wa(t,r,i),Va(t,r,i,n),Il(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return xl(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var l=i;i=function(){var e=Vu(o);l.call(e)}}Hu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vu(o);a.call(e)}}var o=Wu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),du(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var l=r;r=function(){var e=Vu(s);l.call(e)}}var s=Bu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),du((function(){Hu(t,s,n,r)})),s}(n,t,e,i,r);return Vu(o)}Gu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hu(e,t,null,null)},Gu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Hu(null,e,null,null)})),t[pi]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&At(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),iu(t,Je()),0===(6&Is)&&(Ws=Je()+500,qi()))}break;case 13:du((function(){var t=Ia(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Qu(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)ru(t,e,134217728,tu());Qu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nu(e),n=Ia(e,t);if(null!==n)ru(n,e,t,tu());Qu(e,t)}},St=function(){return _t},xt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));Q(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cu,Ie=du;var tc={usingClientEntryPoint:!1,Events:[_i,bi,ki,Ee,Ne,cu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",l=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,i,0,o,l),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Gu(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:l.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=_.prototype=new g;b.constructor=_,v(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:l,props:a,_owner:C.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,a,o){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,k(o)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),I(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var u=0;u<e.length;u++){var c=a+T(l=e[u],u);s+=I(l,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=I(l=l.value,t,i,c=a+T(l,u++),o);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function P(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},O={transition:null},D={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)w.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,n))u<i&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var u=[],c=[],d=1,h=null,f=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(m=!1,b(e),!v)if(null!==r(u))v=!0,O(w);else{var t=r(c);null!==t&&D(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!I());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var l=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?h.callback=l:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var s=!0;else{var d=r(c);null!==d&&D(k,d.startTime-n),s=!1}return s}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,x=null,E=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function P(){if(null!==x){var e=t.unstable_now();T=e;var n=!0;try{n=x(!0,e)}finally{n?C():(S=!1,x=null)}}else S=!1}if("function"===typeof _)C=function(){_(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,j=R.port2;R.port1.onmessage=P,C=function(){j.postMessage(null)}}else C=function(){y(P,0)};function O(e){x=e,S||(S=!0,C())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(g(E),E=-1):m=!0,D(k,a-o))):(e.sortIndex=l,n(u,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e,t=n(791),r=n.t(t,2),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){if(Array.isArray(e))return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return c(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(c){u=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(e,t)||h(e,t)||f()}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||v(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function _(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=C();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,n)}}function E(e,t,n){return E=C()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},E.apply(null,arguments)}function N(e){var t="function"===typeof Map?new Map:void 0;return N=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},N(e)}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var P,R="popstate";function j(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),I({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function A(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,l=void 0===o?document.defaultView:o,s=a.v5Compat,u=void 0!==s&&s,c=l.history,d=e.Pop,h=null,f=p();function p(){return(c.state||{idx:null}).idx}function v(){d=e.Pop;var t=p(),n=null==t?null:t-f;f=t,h&&h({action:d,location:y.location,delta:n})}function m(e){var t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:L(e);return j(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(I({},c.state,{idx:f}),""));var y={get action(){return d},get location(){return t(l,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(R,v),h=e,function(){l.removeEventListener(R,v),h=null}},createHref:function(e){return n(l,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){d=e.Push;var i=D(y.location,t,n);r&&r(i,t);var a=O(i,f=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(hr){l.location.assign(o)}u&&h&&h({action:d,location:y.location,delta:1})},replace:function(t,n){d=e.Replace;var i=D(y.location,t,n);r&&r(i,t);var a=O(i,f=p()),o=y.createHref(i);c.replaceState(a,"",o),u&&h&&h({action:d,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}function F(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],J(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(j(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var l=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(j(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),z(e.children,t,s,l)),(null!=e.path||e.index)&&t.push({path:l,score:K(l,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(l){a.e(l)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n,r=c(n=t)||v(n)||h(n)||f(),i=r[0],a=r.slice(1),o=i.endsWith("?"),l=i.replace(/\?$/,"");if(0===a.length)return o?[l,""]:[l];var s=U(a.join("/")),u=[];return u.push.apply(u,m(s.map((function(e){return""===e?l:[l,e].join("/")})))),o&&u.push.apply(u,m(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));var B=/^:\w+$/,q=3,W=2,H=1,V=10,$=-2,Q=function(e){return"*"===e};function K(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=$),t&&(r+=W),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?H:V)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var l=n[o],s=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=G({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},u);if(!c)return null;Object.assign(r,c.params);var d=l.route;a.push({params:r,pathname:re([i,c.pathname]),pathnameBase:ie(re([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=re([i,c.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=p(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var l=o[0],s=l.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";s=l.slice(0,l.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(hr){return Z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+hr+")."),e}}(u[n]||"",t),e}),{});return{params:c,pathname:l,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(hr){return Z(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+hr+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(j(!(i=I({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),j(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),j(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(r||null==l)a=n;else{var s=t.length-1;if(l.startsWith("..")){for(var u=l.split("/");".."===u[0];)u.shift(),s-=1;i.pathname=u.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,l=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(l)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},le=function(e){k(n,e);var t=x(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n)}(N(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var he="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fe=t.useState,pe=t.useEffect,ve=t.useLayoutEffect,me=t.useDebugValue;function ye(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!he(n,r)}catch(hr){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ge=t.createContext(null);var _e=t.createContext(null);var be=t.createContext(null);var ke=t.createContext(null);var we=t.createContext(null);var Ce=t.createContext({outlet:null,matches:[]});var Se=t.createContext(null);function xe(){return null!=t.useContext(we)}function Ee(){return xe()||j(!1),t.useContext(we).location}function Ne(){xe()||j(!1);var e=t.useContext(ke),n=e.basename,r=e.navigator,i=t.useContext(Ce).matches,a=Ee().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase}))),l=t.useRef(!1);return t.useEffect((function(){l.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),l.current)if("number"!==typeof e){var i=ne(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:re([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a])}function Te(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Ce).matches,a=Ee().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ie(){var e=function(){var e,n=t.useContext(Se),r=Le(Re.UseRouteError),i=Me(Re.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Pe,Re,je=function(e){k(r,e);var n=x(r);function r(e){var t;return y(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return _(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ce.Provider,{value:this.props.routeContext},t.createElement(Se.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Oe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ge);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Ce.Provider,{value:n},i)}function De(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||j(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,l){var s=o.route.id?null==a?void 0:a[o.route.id]:null,u=r?o.route.errorElement||t.createElement(Ie,null):null,c=n.concat(i.slice(0,l+1)),d=function(){return t.createElement(Oe,{match:o,routeContext:{outlet:e,matches:c}},s?u:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===l)?t.createElement(je,{location:r.location,component:u,error:s,children:d(),routeContext:{outlet:null,matches:c}}):d()}),null)}function Le(e){var n=t.useContext(_e);return n||j(!1),n}function Me(e){var n=function(e){var n=t.useContext(Ce);return n||j(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||j(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Pe||(Pe={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Re||(Re={}));var Ae;function Fe(e){j(!1)}function ze(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,l=n.location,s=n.navigationType,u=void 0===s?e.Pop:s,c=n.navigator,d=n.static,h=void 0!==d&&d;xe()&&j(!1);var f=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof l&&(l=M(l));var v=l,m=v.pathname,y=void 0===m?"/":m,g=v.search,_=void 0===g?"":g,b=v.hash,k=void 0===b?"":b,w=v.state,C=void 0===w?null:w,S=v.key,x=void 0===S?"default":S,E=t.useMemo((function(){var e=X(y,f);return null==e?null:{pathname:e,search:_,hash:k,state:C,key:x}}),[f,y,_,k,C,x]);return null==E?null:t.createElement(ke.Provider,{value:p},t.createElement(we.Provider,{children:o,value:{location:E,navigationType:u}}))}function Ue(n){var r=n.children,i=n.location,a=t.useContext(ge);return function(n,r){xe()||j(!1);var i,a=t.useContext(ke).navigator,o=t.useContext(_e),l=t.useContext(Ce).matches,s=l[l.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),d=(s&&s.route,Ee());if(r){var h,f="string"===typeof r?M(r):r;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||j(!1),i=f}else i=d;var p=i.pathname||"/",v=F(n,{pathname:"/"===c?p:p.slice(c.length)||"/"}),m=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:re([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:re([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),l,o||void 0);return r&&m?t.createElement(we.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},m):m}(a&&!r?a.router.routes:qe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Be=new Promise((function(){}));t.Component;function qe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Fe&&j(!1),e.props.index&&e.props.children&&j(!1);var a=[].concat(m(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=qe(e.props.children,a)),r.push(o)}else r.push.apply(r,qe(e.props.children,n))})),r}function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function $e(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),A((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,n)));var l=o.current,s=p(t.useState({action:l.action,location:l.location}),2),u=s[0],c=s[1];return t.useLayoutEffect((function(){return l.listen(c)}),[l]),t.createElement(ze,{basename:r,children:i,location:u.location,navigationType:u.action,navigator:l})}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,l=e.replace,s=e.state,u=e.target,c=e.to,d=e.preventScrollReset,h=He(e,Ve),f=!1;if(Qe&&"string"===typeof c&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(c)){r=c;var p=new URL(window.location.href),v=c.startsWith("//")?new URL(p.protocol+c):new URL(c);v.origin===p.origin?c=v.pathname+v.search+v.hash:f=!0}var m=function(e,n){var r=(void 0===n?{}:n).relative;xe()||j(!1);var i=t.useContext(ke),a=i.basename,o=i.navigator,l=Te(e,{relative:r}),s=l.hash,u=l.pathname,c=l.search,d=u;return"/"!==a&&(d="/"===u?a:re([a,u])),o.createHref({pathname:d,search:c,hash:s})}(c,{relative:a}),y=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,l=r.preventScrollReset,s=r.relative,u=Ne(),c=Ee(),d=Te(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(c)===L(d);u(e,{replace:n,state:o,preventScrollReset:l,relative:s})}}),[c,u,d,a,o,i,e,l,s])}(c,{replace:l,state:s,target:u,preventScrollReset:d,relative:a});return t.createElement("a",We({},h,{href:r||m,onClick:f||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:n,target:u}))}));var Ye,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function Je(){Je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),l=new E(i||[]);return r(o,"_invoke",{value:w(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=c;var h={};function f(){}function p(){}function v(){}var m={};u(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(N([])));g&&g!==t&&n.call(g,o)&&(m=g);var _=v.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,o,l,s){var u=d(e[r],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==a(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,l,s)}),(function(e){i("throw",e,l,s)})):t.resolve(h).then((function(e){c.value=e,l(c)}),(function(e){return i("throw",e,l,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=C(o,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(_,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,l,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Xe(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(hr){return void n(hr)}l.done?t(s):Promise.resolve(s).then(r,i)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xe(a,r,i,o,l,"next",e)}function l(e){Xe(a,r,i,o,l,"throw",e)}o(void 0)}))}}var et={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},tt=function(e,t){if(!e)throw nt(t)},nt=function(e){return new Error("Firebase Database ("+et.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},rt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},it={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,l=o?e[i+1]:0,s=i+2<e.length,u=s?e[i+2]:0,c=a>>2,d=(3&a)<<4|l>>4,h=(15&l)<<2|u>>6,f=63&u;s||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var l=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&l)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,l=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==l||null==s)throw Error();var u=a<<2|o>>4;if(r.push(u),64!==l){var c=o<<4&240|l>>2;if(r.push(c),64!==s){var d=l<<6&192|s;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},at=function(e){var t=rt(e);return it.encodeByteArray(t,!0)},ot=function(e){return at(e).replace(/\./g,"")},lt=function(e){try{return it.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function st(e){return ut(void 0,e)}function ut(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ut(e[n],t[n]));return e}var ct=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},dt=function(){try{return ct()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/board-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&lt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ht=function(e){var t=function(e){var t,n;return null===(n=null===(t=dt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ft=function(){var e;return null===(e=dt())||void 0===e?void 0:e.config},pt=function(){function e(){var t=this;y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return _(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function mt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function yt(){return!0===et.NODE_CLIENT||!0===et.NODE_ADMIN}function gt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var _t="FirebaseError",bt=function(e){k(n,e);var t=x(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name=_t,Object.setPrototypeOf(S(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(a),kt.prototype.create),a}return _(n)}(N(Error)),kt=function(){function e(t,n,r){y(this,e),this.service=t,this.serviceName=n,this.errors=r}return _(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new bt(n,a,t)}}]),e}();var wt=/\{\$([^}]+)}/g;function Ct(e){return JSON.parse(e)}function St(e){return JSON.stringify(e)}var xt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ct(lt(a[0])||""),n=Ct(lt(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Et(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Tt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function It(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Pt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var l=e[o],s=t[o];if(Rt(l)&&Rt(s)){if(!Pt(l,s))return!1}else if(l!==s)return!1}for(var u=0,c=r;u<c.length;u++){var d=c[u];if(!n.includes(d))return!1}return!0}function Rt(e){return null!==e&&"object"===typeof e}var jt=function(){function e(){y(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return _(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var l,s,u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],f=this.chain_[4],p=0;p<80;p++){p<40?p<20?(l=h^c&(d^h),s=1518500249):(l=c^d^h,s=1859775393):p<60?(l=c&d|h&(c|d),s=2400959708):(l=c^d^h,s=3395469782);var v=(u<<5|u>>>27)+l+f+s+n[p]&4294967295;f=h,h=d,d=4294967295&(c<<30|c>>>2),c=u,u=v}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ot(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Dt=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Lt(e){return e&&e._delegate?e._delegate:e}var Mt=function(){function e(t,n,r){y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return _(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),At="[DEFAULT]",Ft=function(){function e(t,n){y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return _(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch(s){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ze(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var l=p(i.value,2),s=l[0],u=l[1];r===this.normalizeInstanceIdentifier(s)&&u.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(l){i.e(l)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===At?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.component?this.component.multipleInstances?e:At:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var zt,Ut,Bt=function(){function e(t){y(this,e),this.name=t,this.providers=new Map}return _(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),qt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ut||(Ut={}));var Wt={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},Ht=Ut.INFO,Vt=(l(zt={},Ut.DEBUG,"log"),l(zt,Ut.VERBOSE,"log"),l(zt,Ut.INFO,"info"),l(zt,Ut.WARN,"warn"),l(zt,Ut.ERROR,"error"),zt),$t=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qt=function(){function e(t){y(this,e),this.name=t,this._logLevel=Ht,this._logHandler=$t,this._userLogHandler=null,qt.push(this)}return _(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ut))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Wt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ut.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ut.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.INFO].concat(t)),this._logHandler.apply(this,[this,Ut.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.WARN].concat(t)),this._logHandler.apply(this,[this,Ut.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.ERROR].concat(t)),this._logHandler.apply(this,[this,Ut.ERROR].concat(t))}}]),e}();var Kt,Yt,Gt=function(e,t){return t.some((function(t){return e instanceof t}))};var Jt=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap;var nn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ln(this),n),on(Jt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return on(e.apply(ln(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ln(this),t].concat(r));return Zt.set(a,t.sort?t.sort():[t]),on(a)}}function an(e){return"function"===typeof e?rn(e):(e instanceof IDBTransaction&&function(e){if(!Xt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xt.set(e,t)}}(e),Gt(e,Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,nn):e)}function on(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(on(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Jt.set(t,e)})).catch((function(){})),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);var t=an(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}var ln=function(e){return tn.get(e)};var sn,un,cn=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],hn=new Map;function fn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(hn.get(t))return hn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=dn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||cn.includes(n))){var a=function(){var e=Ze(Je().mark((function e(t){var a,o,l,s,u,c,d=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),l=o.store,s=d.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=d[c];return r&&(l=l.index(u.shift())),e.next=6,Promise.all([(a=l)[n].apply(a,u),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return hn.set(t,a),a}}}nn=function(e){return u(u({},e),{},{get:function(t,n,r){return fn(t,n)||e.get(t,n,r)},has:function(t,n){return!!fn(t,n)||e.has(t,n)}})}(nn);var pn=function(){function e(t){y(this,e),this.container=t}return _(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var vn="@firebase/app",mn="0.9.3",yn=new Qt("@firebase/app"),gn="[DEFAULT]",_n=(l(sn={},vn,"fire-core"),l(sn,"@firebase/app-compat","fire-core-compat"),l(sn,"@firebase/analytics","fire-analytics"),l(sn,"@firebase/analytics-compat","fire-analytics-compat"),l(sn,"@firebase/app-check","fire-app-check"),l(sn,"@firebase/app-check-compat","fire-app-check-compat"),l(sn,"@firebase/auth","fire-auth"),l(sn,"@firebase/auth-compat","fire-auth-compat"),l(sn,"@firebase/database","fire-rtdb"),l(sn,"@firebase/database-compat","fire-rtdb-compat"),l(sn,"@firebase/functions","fire-fn"),l(sn,"@firebase/functions-compat","fire-fn-compat"),l(sn,"@firebase/installations","fire-iid"),l(sn,"@firebase/installations-compat","fire-iid-compat"),l(sn,"@firebase/messaging","fire-fcm"),l(sn,"@firebase/messaging-compat","fire-fcm-compat"),l(sn,"@firebase/performance","fire-perf"),l(sn,"@firebase/performance-compat","fire-perf-compat"),l(sn,"@firebase/remote-config","fire-rc"),l(sn,"@firebase/remote-config-compat","fire-rc-compat"),l(sn,"@firebase/storage","fire-gcs"),l(sn,"@firebase/storage-compat","fire-gcs-compat"),l(sn,"@firebase/firestore","fire-fst"),l(sn,"@firebase/firestore-compat","fire-fst-compat"),l(sn,"fire-js","fire-js"),l(sn,"firebase","fire-js-all"),sn),bn=new Map,kn=new Map;function wn(e,t){try{e.container.addComponent(t)}catch(n){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cn(e){var t=e.name;if(kn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;kn.set(t,e);var n,r=T(bn.values());try{for(r.s();!(n=r.n()).done;){wn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Sn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var xn=(l(un={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),l(un,"bad-app-name","Illegal App name: '{$appName}"),l(un,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),l(un,"app-deleted","Firebase App named '{$appName}' already deleted"),l(un,"no-options","Need to provide options, when not being deployed to hosting via source."),l(un,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),l(un,"invalid-log-argument","First argument to `onLog` must be null or a function."),l(un,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),l(un,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),l(un,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),l(un,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),un),En=new kt("app","Firebase",xn),Nn=function(){function e(t,n,r){var i=this;y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",(function(){return i}),"PUBLIC"))}return _(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}]),e}(),Tn="9.17.1";function In(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw En.create("bad-app-name",{appName:String(i)});if(n||(n=ft()),!n)throw En.create("no-options");var a=bn.get(i);if(a){if(Pt(n,a.options)&&Pt(r,a.config))return a;throw En.create("duplicate-app",{appName:i})}var o,l=new Bt(i),s=T(kn.values());try{for(s.s();!(o=s.n()).done;){var u=o.value;l.addComponent(u)}}catch(d){s.e(d)}finally{s.f()}var c=new Nn(n,r,l);return bn.set(i,c),c}function Pn(e,t,n){var r,i=null!==(r=_n[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var l=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&l.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&l.push("and"),o&&l.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(l.join(" "))}Cn(new Mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Rn="firebase-heartbeat-database",jn=1,On="firebase-heartbeat-store",Dn=null;function Ln(){return Dn||(Dn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,l=indexedDB.open(e,t),s=on(l);return i&&l.addEventListener("upgradeneeded",(function(e){i(on(l.result),e.oldVersion,e.newVersion,on(l.transaction))})),r&&l.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}(Rn,jn,{upgrade:function(e,t){if(0===t)e.createObjectStore(On)}}).catch((function(e){throw En.create("idb-open",{originalErrorMessage:e.message})}))),Dn}function Mn(e){return An.apply(this,arguments)}function An(){return An=Ze(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return n=e.sent,e.abrupt("return",n.transaction(On).objectStore(On).get(Un(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof bt?yn.warn(e.t0.message):(r=En.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),An.apply(this,arguments)}function Fn(e,t){return zn.apply(this,arguments)}function zn(){return zn=Ze(Je().mark((function e(t,n){var r,i,a,o;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ln();case 3:return r=e.sent,i=r.transaction(On,"readwrite"),a=i.objectStore(On),e.next=8,a.put(n,Un(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof bt?yn.warn(e.t0.message):(o=En.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),zn.apply(this,arguments)}function Un(e){return"".concat(e.name,"!").concat(e.options.appId)}var Bn=1024,qn=function(){function e(t){var n=this;y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $n(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return _(e,[{key:"triggerHeartbeat",value:function(){var e=Ze(Je().mark((function e(){var t,n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Wn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ze(Je().mark((function e(){var t,n,r,i,a;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Wn(),n=Hn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ot(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wn(){return(new Date).toISOString().substring(0,10)}function Hn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(l){a.e(l)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Vn,$n=function(){function e(t){y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return _(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ze(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(hr){t(hr)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ze(Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Mn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ze(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ze(Je().mark((function e(t){var n,r;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Qn(e){return ot(JSON.stringify({version:2,heartbeats:e})).length}Vn="",Cn(new Mt("platform-logger",(function(e){return new pn(e)}),"PRIVATE")),Cn(new Mt("heartbeat",(function(e){return new qn(e)}),"PRIVATE")),Pn(vn,mn,Vn),Pn(vn,mn,"esm2017"),Pn("fire-js","");Pn("firebase","9.17.1","app");var Kn={apiKey:"AIzaSyBOR8gYahAu4ybvNUWNSQWWPPSHAA24yOw",authDomain:"board-game-ed9b2.firebaseapp.com",databaseURL:"https://board-game-ed9b2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"board-game-ed9b2",storageBucket:"board-game-ed9b2.appspot.com",messagingSenderId:"456509633169",appId:"1:456509633169:web:d1bf5c08beaadcac494530"};var Yn="@firebase/database",Gn="0.14.3",Jn="";var Xn=function(){function e(t){y(this,e),this.domStorage_=t,this.prefix_="firebase:"}return _(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),St(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ct(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Zn=function(){function e(){y(this,e),this.cache_={},this.isInMemoryStorage=!0}return _(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Et(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),er=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Xn(t)}}catch(n){}return new Zn},tr=er("localStorage"),nr=er("sessionStorage"),rr=new Qt("@firebase/database"),ir=function(){var e=1;return function(){return e++}}(),ar=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,tt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new jt;n.update(t);var r=n.digest();return it.encodeByteArray(r)},or=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?St(r):r,t+=" "}return t},lr=null,sr=!0,ur=function(e,t){tt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(rr.logLevel=Ut.VERBOSE,lr=rr.log.bind(rr),t&&nr.set("logging_enabled",!0)):"function"===typeof e?lr=e:(lr=null,nr.remove("logging_enabled"))},cr=function(){if(!0===sr&&(sr=!1,null===lr&&!0===nr.get("logging_enabled")&&ur(!0)),lr){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=or.apply(null,t);lr(r)}},dr=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];cr.apply(void 0,[e].concat(n))}},hr=function(){var e="FIREBASE INTERNAL ERROR: "+or.apply(void 0,arguments);rr.error(e)},fr=function(){var e="FIREBASE FATAL ERROR: ".concat(or.apply(void 0,arguments));throw rr.error(e),new Error(e)},pr=function(){var e="FIREBASE WARNING: "+or.apply(void 0,arguments);rr.warn(e)},vr=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},mr="[MIN_NAME]",yr="[MAX_NAME]",gr=function(e,t){if(e===t)return 0;if(e===mr||t===yr)return-1;if(t===mr||e===yr)return 1;var n=Er(e),r=Er(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},_r=function(e,t){return e===t?0:e<t?-1:1},br=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+St(t))},kr=function e(t){if("object"!==typeof t||null===t)return St(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=St(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},wr=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Cr(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Sr=function(e){tt(!vr(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var l=[];for(a=52;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(t?1:0),l.reverse();var s=l.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()};var xr=new RegExp("^-?(0*)\\d{1,10}$"),Er=function(e){if(xr.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Nr=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw pr("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Tr=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ir=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Pr=function(){function e(t,n){var r=this;y(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return _(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){pr('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Rr=function(){function e(t,n,r){var i=this;y(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return _(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(cr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(e)}}]),e}(),jr=function(){function e(t){y(this,e),this.accessToken=t}return _(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();jr.OWNER="owner";var Or="5",Dr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lr="ac",Mr="websocket",Ar="long_polling",Fr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];y(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+t)||this._host}return _(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function zr(e,t,n){var r;if(tt("string"===typeof t,"typeof type must == string"),tt("object"===typeof n,"typeof params must == object"),t===Mr)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ar)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Cr(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Ur=function(){function e(){y(this,e),this.counters_={}}return _(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Et(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return st(this.counters_)}}]),e}(),Br={},qr={};function Wr(e){var t=e.toString();return Br[t]||(Br[t]=new Ur),Br[t]}var Hr=function(){function e(t){y(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return _(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Nr((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Vr="start",$r="close",Qr="pLPCommand",Kr="pRTLPCB",Yr=function(){function e(t,n,r,i,a,o,l){var s=this;y(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dr(t),this.stats_=Wr(n),this.urlFn=function(e){return s.appCheckToken&&(e[Lr]=s.appCheckToken),zr(n,Ar,e)}}return _(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Hr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(yt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Gr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Vr)n.id=a,n.password=o;else{if(i!==$r)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Vr]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Or,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Lr]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Dr.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=St(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=at(t),r=wr(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!yt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=St(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!yt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Gr=function(){function e(t,n,r,i){if(y(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,yt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=ir(),window[Qr+this.uniqueCallbackIdentifier]=t,window[Kr+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){cr("frame writing exception"),l.stack&&cr(l.stack),cr(l)}}}return _(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;yt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){cr("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||cr("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Jr=null;"undefined"!==typeof MozWebSocket?Jr=MozWebSocket:"undefined"!==typeof WebSocket&&(Jr=WebSocket);var Xr=function(){function e(t,n,r,i,a,o,l){y(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dr(this.connId),this.stats_=Wr(n),this.connURL=e.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}return _(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{var r;if(yt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Or,"/").concat(Jn,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/board-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Jr(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var l=s.message||s.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){tr.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ct(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(tt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=St(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=wr(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Or,!yt()&&"undefined"!==typeof location&&location.hostname&&Dr.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Lr]=r),i&&(a.p=i),zr(e,Mr,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Jr&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return tr.isInMemoryStorage||!0===tr.get("previous_websocket_failure")}}]),e}();Xr.responsesRequiredToBeHealthy=2,Xr.healthyTimeout=3e4;var Zr=function(){function e(t){y(this,e),this.initTransports_(t)}return _(e,[{key:"initTransports_",value:function(t){var n=Xr&&Xr.isAvailable(),r=n&&!Xr.previouslyFailed();if(t.webSocketOnly&&(n||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xr];else{var i,a=this.transports_=[],o=T(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var l=i.value;l&&l.isAvailable()&&a.push(l)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Yr,Xr]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Zr.globalTransportInitialized_=!1;var ei=function(){function e(t,n,r,i,a,o,l,s,u,c){y(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dr("c:"+this.id+":"),this.transportManager_=new Zr(n),this.log_("Connection created"),this.start_()}return _(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ir((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=br("t",e),n=br("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=br("t",e),n=br("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=br("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?hr("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hr("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Or!==n&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ir((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ir((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),ti=function(){function e(){y(this,e)}return _(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),ni=function(){function e(t){y(this,e),this.allowedEvents_=t,this.listeners_={},tt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return _(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=m(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){tt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),ri=function(e){k(n,e);var t=x(n);function n(){var e;return y(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||mt()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return _(n,[{key:"getInitialEvent",value:function(e){return tt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(ni),ii=32,ai=768,oi=function(){function e(t,n){if(y(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return _(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function li(){return new oi("")}function si(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ui(e){return e.pieces_.length-e.pieceNum_}function ci(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new oi(e.pieces_,t)}function di(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function fi(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new oi(t,0)}function pi(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof oi)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new oi(n,0)}function vi(e){return e.pieceNum_>=e.pieces_.length}function mi(e,t){var n=si(e),r=si(t);if(null===n)return t;if(n===r)return mi(ci(e),ci(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yi(e,t){if(ui(e)!==ui(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gi(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ui(e)>ui(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var _i=_((function e(t,n){y(this,e),this.errorPrefix_=n,this.parts_=hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Dt(this.parts_[r]);bi(this)}));function bi(e){if(e.byteLength_>ai)throw new Error(e.errorPrefix_+"has a key path longer than "+ai+" bytes ("+e.byteLength_+").");if(e.parts_.length>ii)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ii+") or object contains a cycle "+ki(e))}function ki(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var wi=function(e){k(n,e);var t=x(n);function n(){var e,r,i;return y(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return _(n,[{key:"getInitialEvent",value:function(e){return tt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(ni),Ci=1e3,Si=3e5,xi=function(e){k(n,e);var t=x(n);function n(e,r,i,a,o,l,s,u){var c;if(y(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=l,c.appCheckTokenProvider_=s,c.authOverride_=u,c.id=n.nextPersistentConnectionId_++,c.log_=dr("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Ci,c.maxReconnectDelay_=Si,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!yt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wi.getInstance().on("visible",c.onVisible_,S(c)),-1===e.host.indexOf("fblocal")&&ri.getInstance().on("online",c.onOnline_,S(c)),c}return _(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(St(i)),tt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new pt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var l=o.d,s=o.s;n.warnOnListenWarnings_(l,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,l))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=xt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=xt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+St(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):hr("Unrecognized action received from server: "+St(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;tt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ci),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ze(Je().mark((function e(){var t,r,i,a,o,l,s,u,c,d,h,f,v,m,y=this;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,l=!1,s=null,u=function(){s?s.close():(l=!0,i())},c=function(e){tt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:u,sendRequest:c},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,f=p(h,2),v=f[0],m=f[1],l?cr("getToken() completed but was canceled"):(cr("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,s=new ei(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){pr(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),l||(this.repoInfo_.nodeAdmin&&pr(e.t0),u());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){cr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){cr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Tt(this.interruptReasons_)&&(this.reconnectDelay_=Ci,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return kr(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new oi(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){cr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){cr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=T(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=T(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)}},{key:"sendConnectStats_",value:function(){var e={},t="js";yt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Jn.replace(/\./g,"-")]=1,mt()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=ri.getInstance().currentlyOnline();return Tt(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Et(e,"w")){var n=Nt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();pr("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(ti);xi.nextPersistentConnectionId_=0,xi.nextConnectionId_=0;var Ei,Ni=function(){function e(t,n){y(this,e),this.name=t,this.node=n}return _(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ti=function(){function e(){y(this,e)}return _(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ni(mr,e),r=new Ni(mr,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ni.MIN}}]),e}(),Ii=function(e){k(n,e);var t=x(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n,[{key:"compare",value:function(e,t){return gr(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw nt("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ni.MIN}},{key:"maxPost",value:function(){return new Ni(yr,Ei)}},{key:"makePost",value:function(e,t){return tt("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ni(e,Ei)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Ei},set:function(e){Ei=e}}]),n}(Ti),Pi=new Ii,Ri=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;y(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return _(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ji=function(){function e(t,n,r,i,a){y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Li.EMPTY_NODE,this.right=null!=a?a:Li.EMPTY_NODE}return _(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Li.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Li.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ji.RED=!0,ji.BLACK=!1;var Oi,Di=function(){function e(){y(this,e)}return _(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ji(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Li=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;y(this,e),this.comparator_=t,this.root_=n}return _(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ji.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ji.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ri(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ri(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ri(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ri(this.root_,null,this.comparator_,!0,e)}}]),e}();function Mi(e,t){return gr(e.name,t.name)}function Ai(e,t){return gr(e,t)}Li.EMPTY_NODE=new Di;var Fi,zi,Ui,Bi=function(e){return"number"===typeof e?"number:"+Sr(e):"string:"+e},qi=function(e){if(e.isLeafNode()){var t=e.val();tt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Et(t,".sv"),"Priority must be a string or number.")}else tt(e===Oi||e.isEmpty(),"priority of unexpected type.");tt(e===Oi||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Wi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;y(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,tt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qi(this.priorityNode_)}return _(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return vi(t)?this:".priority"===si(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=si(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(tt(".priority"!==r||1===ui(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ci(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bi(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Sr(this.value_):this.value_,this.lazyHash_=ar(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(tt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return tt(i>=0,"Unknown leaf type: "+n),tt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Fi},set:function(e){Fi=e}}]),e}();Wi.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Hi,Vi,$i=function(e){k(n,e);var t=x(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?gr(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ni.MIN}},{key:"maxPost",value:function(){return new Ni(yr,new Wi("[PRIORITY-POST]",Ui))}},{key:"makePost",value:function(e,t){var n=zi(e);return new Ni(t,new Wi("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ti),Qi=new $i,Ki=Math.log(2),Yi=function(){function e(t){y(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Ki,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return _(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Gi=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,l=i-r;if(0===l)return null;if(1===l)return a=e[r],o=n?n(a):a,new ji(o,a.node,ji.BLACK,null,null);var s=parseInt(l/2,10)+r,u=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new ji(o,a.node,ji.BLACK,u,c)},a=function(t){for(var r=null,a=null,o=e.length,l=function(t,r){var a=o-t,l=o;o-=t;var u=i(a+1,l),c=e[a],d=n?n(c):c;s(new ji(d,c.node,r,null,u))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},u=0;u<t.count;++u){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(u+1));c?l(d,ji.BLACK):(l(d,ji.BLACK),l(d,ji.RED))}return a}(new Yi(e.length));return new Li(r||t,a)},Ji={},Xi=function(){function e(t,n){y(this,e),this.indexes_=t,this.indexSet_=n}return _(e,[{key:"get",value:function(e){var t=Nt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Li?t:null}},{key:"hasIndex",value:function(e){return Et(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){tt(t!==Pi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ni.Wrap),l=o.getNext();l;)a=a||t.isDefinedOn(l.node),i.push(l),l=o.getNext();r=a?Gi(i,t.getCompare()):Ji;var s=t.toString(),u=Object.assign({},this.indexSet_);u[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,u)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(It(this.indexes_,(function(e,i){var a=Nt(r.indexSet_,i);if(tt(a,"Missing index implementation for "+i),e===Ji){if(a.isDefinedOn(t.node)){for(var o=[],l=n.getIterator(Ni.Wrap),s=l.getNext();s;)s.name!==t.name&&o.push(s),s=l.getNext();return o.push(t),Gi(o,a.getCompare())}return Ji}var u=n.get(t.name),c=e;return u&&(c=c.remove(new Ni(t.name,u))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(It(this.indexes_,(function(e){if(e===Ji)return e;var r=n.get(t.name);return r?e.remove(new Ni(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return tt(Ji&&Qi,"ChildrenNode.ts has not been loaded"),Hi=Hi||new e({".priority":Ji},{".priority":Qi})}}]),e}(),Zi=function(){function e(t,n,r){y(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&qi(this.priorityNode_),this.children_.isEmpty()&&tt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return _(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Vi}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Vi:t}},{key:"getChild",value:function(e){var t=si(e);return null===t?this:this.getImmediateChild(t).getChild(ci(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(tt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ni(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Vi:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=si(e);if(null===n)return t;tt(".priority"!==si(e)||1===ui(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ci(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Qi,(function(o,l){n[o]=l.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var l in n)o[l]=n[l];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Bi(this.getPriority().val())+":"),this.forEachChild(Qi,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ar(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ni(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ni(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ni(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ni.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ni.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ea?-1:0}},{key:"withIndex",value:function(t){if(t===Pi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Pi||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Qi),r=t.getIterator(Qi),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Pi?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Vi||(Vi=new e(new Li(Ai),null,Xi.Default))}}]),e}();Zi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var ea=new(function(e){k(n,e);var t=x(n);function n(){return y(this,n),t.call(this,new Li(Ai),Zi.EMPTY_NODE,Xi.Default)}return _(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Zi.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Zi));Object.defineProperties(Ni,{MIN:{value:new Ni(mr,Zi.EMPTY_NODE)},MAX:{value:new Ni(yr,ea)}}),Ii.__EMPTY_NODE=Zi.EMPTY_NODE,Wi.__childrenNodeConstructor=Zi,Oi=ea,function(e){Ui=e}(ea);var ta=!0;function na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Zi.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),tt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Wi(e,na(t));if(e instanceof Array||!ta){var n=Zi.EMPTY_NODE;return Cr(e,(function(t,r){if(Et(e,t)&&"."!==t.substring(0,1)){var i=na(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(na(t))}var r=[],i=!1;if(Cr(e,(function(e,t){if("."!==e.substring(0,1)){var n=na(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ni(e,n)))}})),0===r.length)return Zi.EMPTY_NODE;var a=Gi(r,Mi,(function(e){return e.name}),Ai);if(i){var o=Gi(r,Qi.getCompare());return new Zi(a,na(t),new Xi({".priority":o},{".priority":Qi}))}return new Zi(a,na(t),Xi.Default)}!function(e){zi=e}(na);var ra=function(e){k(n,e);var t=x(n);function n(e){var r;return y(this,n),(r=t.call(this)).indexPath_=e,tt(!vi(e)&&".priority"!==si(e),"Can't create PathIndex with empty path or .priority key"),r}return _(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?gr(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=na(e),r=Zi.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ni(t,r)}},{key:"maxPost",value:function(){var e=Zi.EMPTY_NODE.updateChild(this.indexPath_,ea);return new Ni(yr,e)}},{key:"toString",value:function(){return hi(this.indexPath_,0).join("/")}}]),n}(Ti),ia=function(e){k(n,e);var t=x(n);function n(){return y(this,n),t.apply(this,arguments)}return _(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?gr(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ni.MIN}},{key:"maxPost",value:function(){return Ni.MAX}},{key:"makePost",value:function(e,t){var n=na(e);return new Ni(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ti),aa=new ia;function oa(e){return{type:"value",snapshotNode:e}}function la(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sa(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ua(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ca=function(){function e(t){y(this,e),this.index_=t}return _(e,[{key:"updateChild",value:function(e,t,n,r,i,a){tt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(sa(t,o)):tt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(la(t,n)):a.trackChildChange(ua(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Qi,(function(e,r){t.hasChild(e)||n.trackChildChange(sa(e,r))})),t.isLeafNode()||t.forEachChild(Qi,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ua(t,r,i))}else n.trackChildChange(la(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Zi.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),da=function(){function e(t){y(this,e),this.indexedFilter_=new ca(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return _(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ni(t,n))||(n=Zi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Zi.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Zi.EMPTY_NODE);var i=this;return t.forEachChild(Qi,(function(e,t){i.matches(new Ni(e,t))||(r=r.updateImmediateChild(e,Zi.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),ha=function(){function e(t){var n=this;y(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new da(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return _(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ni(t,n))||(n=Zi.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Zi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Zi.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var l;r=(r=t.withIndex(this.index_)).updatePriority(Zi.EMPTY_NODE),l=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var s=0;l.hasNext();){var u=l.getNext();s<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?s++:r=r.updateImmediateChild(u.name,Zi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var l=e;tt(l.numChildren()===this.limit_,"");var s=new Ni(t,n),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(l.hasChild(t)){for(var d=l.getImmediateChild(t),h=r.getChildAfterChild(this.index_,u,this.reverse_);null!=h&&(h.name===t||l.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var f=null==h?1:a(h,s);if(c&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(ua(t,n,d)),l.updateImmediateChild(t,n);null!=i&&i.trackChildChange(sa(t,d));var p=l.updateImmediateChild(t,Zi.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(la(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(u,s)>=0?(null!=i&&(i.trackChildChange(sa(u.name,u.node)),i.trackChildChange(la(t,n))),l.updateImmediateChild(t,n).updateImmediateChild(u.name,Zi.EMPTY_NODE)):e}}]),e}(),fa=function(){function e(){y(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qi}return _(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return tt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return tt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mr}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return tt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return tt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return tt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Qi}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function pa(e){var t,n={};if(e.isDefault())return n;if(e.index_===Qi?t="$priority":e.index_===aa?t="$value":e.index_===Pi?t="$key":(tt(e.index_ instanceof ra,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=St(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=St(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+St(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=St(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+St(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function va(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Qi&&(t.i=e.index_.toString()),t}var ma=function(e){k(n,e);var t=x(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=dr("p:rest:"),o.listens_={},o}return _(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var l=n.getListenId_(e,r),s={};this.listens_[l]=s;var u=pa(e._queryParams);this.restRequest_(o+".json",u,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Nt(a.listens_,l)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=pa(e._queryParams),r=e._path.toString(),i=new pt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=p(i,2),o=a[0],l=a[1];o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=p(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(r&&4===u.readyState){t.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=Ct(u.responseText)}catch(n){pr("Failed to parse JSON response for "+s+": "+u.responseText)}r(null,e)}else 401!==u.status&&404!==u.status&&pr("Got unsuccessful REST response for "+s+" Status: "+u.status),r(u.status);r=null}},u.open("GET",s,!0),u.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(tt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(ti),ya=function(){function e(){y(this,e),this.rootNode_=Zi.EMPTY_NODE}return _(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function ga(){return{value:null,children:new Map}}function _a(e,t,n){if(vi(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=si(t);e.children.has(r)||e.children.set(r,ga()),_a(e.children.get(r),t=ci(t),n)}}function ba(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){ba(r,new oi(t.toString()+"/"+e),n)}))}var ka,wa=function(){function e(t){y(this,e),this.collection_=t,this.last_=null}return _(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Cr(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Ca=1e4,Sa=3e4,xa=function(){function e(t,n){y(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new wa(t);var r=Ca+(Sa-Ca)*Math.random();Ir(this.reportStats_.bind(this),Math.floor(r))}return _(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Cr(t,(function(t,i){i>0&&Et(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Ir(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ea(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ka||(ka={}));var Na,Ta=function(){function e(t,n,r){y(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=ka.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return _(e,[{key:"operationForChild",value:function(t){if(vi(this.path)){if(null!=this.affectedTree.value)return tt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new oi(t));return new e(li(),n,this.revert)}return tt(si(this.path)===t,"operationForChild called for unrelated child."),new e(ci(this.path),this.affectedTree,this.revert)}}]),e}(),Ia=function(){function e(t,n){y(this,e),this.source=t,this.path=n,this.type=ka.LISTEN_COMPLETE}return _(e,[{key:"operationForChild",value:function(t){return vi(this.path)?new e(this.source,li()):new e(this.source,ci(this.path))}}]),e}(),Pa=function(){function e(t,n,r){y(this,e),this.source=t,this.path=n,this.snap=r,this.type=ka.OVERWRITE}return _(e,[{key:"operationForChild",value:function(t){return vi(this.path)?new e(this.source,li(),this.snap.getImmediateChild(t)):new e(this.source,ci(this.path),this.snap)}}]),e}(),Ra=function(){function e(t,n,r){y(this,e),this.source=t,this.path=n,this.children=r,this.type=ka.MERGE}return _(e,[{key:"operationForChild",value:function(t){if(vi(this.path)){var n=this.children.subtree(new oi(t));return n.isEmpty()?null:n.value?new Pa(this.source,li(),n.value):new e(this.source,li(),n)}return tt(si(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ci(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),ja=function(){function e(t,n,r){y(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return _(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(vi(e))return this.isFullyInitialized()&&!this.filtered_;var t=si(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Oa=_((function e(t){y(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Da(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw nt("Should only compare child_ events.");var r=new Ni(t.childName,t.snapshotNode),i=new Ni(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function La(e,t){return{eventCache:e,serverCache:t}}function Ma(e,t,n,r){return La(new ja(t,n,r),e.serverCache)}function Aa(e,t,n,r){return La(e.eventCache,new ja(t,n,r))}function Fa(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function za(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Ua=function(){return Na||(Na=new Li(_r)),Na},Ba=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ua();y(this,e),this.value=t,this.children=n}return _(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:li(),value:this.value};if(vi(e))return null;var n=si(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ci(e),t);return null!=i?{path:pi(new oi(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(vi(t))return this;var n=si(t),r=this.children.get(n);return null!==r?r.subtree(ci(t)):new e(null)}},{key:"set",value:function(t,n){if(vi(t))return new e(n,this.children);var r=si(t),i=(this.children.get(r)||new e(null)).set(ci(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(vi(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=si(t),r=this.children.get(n);if(r){var i,a=r.remove(ci(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(vi(e))return this.value;var t=si(e),n=this.children.get(t);return n?n.get(ci(e)):null}},{key:"setTree",value:function(t,n){if(vi(t))return n;var r,i=si(t),a=(this.children.get(i)||new e(null)).setTree(ci(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(li(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(pi(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,li(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(vi(e))return null;var i=si(e),a=this.children.get(i);return a?a.findOnPath_(ci(e),pi(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,li(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(vi(t))return this;this.value&&r(n,this.value);var i=si(t),a=this.children.get(i);return a?a.foreachOnPath_(ci(t),pi(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(li(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(pi(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Cr(t,(function(e,t){n=n.set(new oi(e),t)})),n}}]),e}(),qa=function(){function e(t){y(this,e),this.writeTree_=t}return _(e,null,[{key:"empty",value:function(){return new e(new Ba(null))}}]),e}();function Wa(e,t,n){if(vi(t))return new qa(new Ba(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=mi(i,t);return a=a.updateChild(o,n),new qa(e.writeTree_.set(i,a))}var l=new Ba(n),s=e.writeTree_.setTree(t,l);return new qa(s)}function Ha(e,t,n){var r=e;return Cr(n,(function(e,n){r=Wa(r,pi(t,e),n)})),r}function Va(e,t){if(vi(t))return qa.empty();var n=e.writeTree_.setTree(t,new Ba(null));return new qa(n)}function $a(e,t){return null!=Qa(e,t)}function Qa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(mi(n.path,t)):null}function Ka(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Qi,(function(e,n){t.push(new Ni(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ni(e,n.value))})),t}function Ya(e,t){if(vi(t))return e;var n=Qa(e,t);return new qa(null!=n?new Ba(n):e.writeTree_.subtree(t))}function Ga(e){return e.writeTree_.isEmpty()}function Ja(e,t){return Xa(li(),e.writeTree_,t)}function Xa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(tt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Xa(pi(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pi(e,".priority"),r)),n}function Za(e,t){return fo(t,e)}function eo(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));tt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var l=e.allWrites[o];l.visible&&(o>=n&&to(l,r.path)?i=!1:gi(r.path,l.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=ro(e.allWrites,no,li()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Va(e.visibleWrites,r.path):Cr(r.children,(function(t){e.visibleWrites=Va(e.visibleWrites,pi(r.path,t))}));return!0}return!1}function to(e,t){if(e.snap)return gi(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&gi(pi(e.path,n),t))return!0;return!1}function no(e){return e.visible}function ro(e,t,n){for(var r=qa.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,l=void 0;if(a.snap)gi(n,o)?r=Wa(r,l=mi(n,o),a.snap):gi(o,n)&&(l=mi(o,n),r=Wa(r,li(),a.snap.getChild(l)));else{if(!a.children)throw nt("WriteRecord should have .snap or .children");if(gi(n,o))r=Ha(r,l=mi(n,o),a.children);else if(gi(o,n))if(vi(l=mi(o,n)))r=Ha(r,li(),a.children);else{var s=Nt(a.children,si(l));if(s){var u=s.getChild(ci(l));r=Wa(r,li(),u)}}}}}return r}function io(e,t,n,r,i){if(r||i){var a=Ya(e.visibleWrites,t);if(!i&&Ga(a))return n;if(i||null!=n||$a(a,li())){return Ja(ro(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(gi(e.path,t)||gi(t,e.path))}),t),n||Zi.EMPTY_NODE)}return null}var o=Qa(e.visibleWrites,t);if(null!=o)return o;var l=Ya(e.visibleWrites,t);return Ga(l)?n:null!=n||$a(l,li())?Ja(l,n||Zi.EMPTY_NODE):null}function ao(e,t,n,r){return io(e.writeTree,e.treePath,t,n,r)}function oo(e,t){return function(e,t,n){var r=Zi.EMPTY_NODE,i=Qa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Qi,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Ya(e.visibleWrites,t);return n.forEachChild(Qi,(function(e,t){var n=Ja(Ya(a,new oi(e)),t);r=r.updateImmediateChild(e,n)})),Ka(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ka(Ya(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function lo(e,t,n,r){return function(e,t,n,r,i){tt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=pi(t,n);if($a(e.visibleWrites,a))return null;var o=Ya(e.visibleWrites,a);return Ga(o)?i.getChild(n):Ja(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function so(e,t){return function(e,t){return Qa(e.visibleWrites,t)}(e.writeTree,pi(e.treePath,t))}function uo(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var l,s=Ya(e.visibleWrites,t),u=Qa(s,li());if(null!=u)l=u;else{if(null==n)return[];l=Ja(s,n)}if((l=l.withIndex(o)).isEmpty()||l.isLeafNode())return[];for(var c=[],d=o.getCompare(),h=a?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o),f=h.getNext();f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function co(e,t,n){return function(e,t,n,r){var i=pi(t,n),a=Qa(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Ja(Ya(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ho(e,t){return fo(pi(e.treePath,t),e.writeTree)}function fo(e,t){return{treePath:e,writeTree:t}}var po=function(){function e(){y(this,e),this.changeMap=new Map}return _(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;tt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),tt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ua(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,sa(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,la(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw nt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ua(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),vo=new(function(){function e(){y(this,e)}return _(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),mo=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;y(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return _(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ja(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return co(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:za(this.viewCache_),i=uo(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function yo(e,t,n,r,i){var a,o,l=new po;if(n.type===ka.OVERWRITE){var s=n;s.source.fromUser?a=bo(e,t,s.path,s.snap,r,i,l):(tt(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!vi(s.path),a=_o(e,t,s.path,s.snap,r,i,o,l))}else if(n.type===ka.MERGE){var u=n;u.source.fromUser?a=function(e,t,n,r,i,a,o){var l=t;return r.foreach((function(r,s){var u=pi(n,r);ko(t,si(u))&&(l=bo(e,l,u,s,i,a,o))})),r.foreach((function(r,s){var u=pi(n,r);ko(t,si(u))||(l=bo(e,l,u,s,i,a,o))})),l}(e,t,u.path,u.children,r,i,l):(tt(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered(),a=Co(e,t,u.path,u.children,r,i,o,l))}else if(n.type===ka.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=so(r,n))return t;var l,s=new mo(r,t,i),u=t.eventCache.getNode();if(vi(n)||".priority"===si(n)){var c;if(t.serverCache.isFullyInitialized())c=ao(r,za(t));else{var d=t.serverCache.getNode();tt(d instanceof Zi,"serverChildren would be complete if leaf node"),c=oo(r,d)}l=e.filter.updateFullNode(u,c,a)}else{var h=si(n),f=co(r,h,t.serverCache);null==f&&t.serverCache.isCompleteForChild(h)&&(f=u.getImmediateChild(h)),(l=null!=f?e.filter.updateChild(u,h,f,ci(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(u,h,Zi.EMPTY_NODE,ci(n),s,a):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=ao(r,za(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,o,a))}return o=t.serverCache.isFullyInitialized()||null!=so(r,li()),Ma(t,l,o,e.filter.filtersNodes())}(e,t,c.path,r,i,l):function(e,t,n,r,i,a,o){if(null!=so(i,n))return t;var l=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(vi(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return _o(e,t,n,s.getNode().getChild(n),i,a,l,o);if(vi(n)){var u=new Ba(null);return s.getNode().forEachChild(Pi,(function(e,t){u=u.set(new oi(e),t)})),Co(e,t,n,u,i,a,l,o)}return t}var c=new Ba(null);return r.foreach((function(e,t){var r=pi(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),Co(e,t,n,c,i,a,l,o)}(e,t,c.path,c.affectedTree,r,i,l)}else{if(n.type!==ka.LISTEN_COMPLETE)throw nt("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Aa(t,a.getNode(),a.isFullyInitialized()||vi(n),a.isFiltered());return go(e,o,n,r,vo,i)}(e,t,n.path,r,l)}var d=l.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Fa(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(oa(Fa(t)))}}(t,a,d),{viewCache:a,changes:d}}function go(e,t,n,r,i,a){var o,l,s=t.eventCache;if(null!=so(r,n))return t;if(vi(n))if(tt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var u=za(t),c=oo(r,u instanceof Zi?u:Zi.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=ao(r,za(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=si(n);if(".priority"===h){tt(1===ui(n),"Can't have a priority with additional path components");var f=s.getNode(),p=lo(r,n,f,l=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(f,p):s.getNode()}else{var v,m=ci(n);if(s.isCompleteForChild(h)){l=t.serverCache.getNode();var y=lo(r,n,s.getNode(),l);v=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else v=co(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return Ma(t,o,s.isFullyInitialized()||vi(n),e.filter.filtersNodes())}function _o(e,t,n,r,i,a,o,l){var s,u=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(vi(n))s=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var d=u.getNode().updateChild(n,r);s=c.updateFullNode(u.getNode(),d,null)}else{var h=si(n);if(!u.isCompleteForPath(n)&&ui(n)>1)return t;var f=ci(n),p=u.getNode().getImmediateChild(h).updateChild(f,r);s=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,vo,null)}var v=Aa(t,s,u.isFullyInitialized()||vi(n),c.filtersNodes());return go(e,v,n,i,new mo(i,v,a),l)}function bo(e,t,n,r,i,a,o){var l,s,u=t.eventCache,c=new mo(i,t,a);if(vi(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=Ma(t,s,!0,e.filter.filtersNodes());else{var d=si(n);if(".priority"===d)s=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ma(t,s,u.isFullyInitialized(),u.isFiltered());else{var h,f=ci(n),p=u.getNode().getImmediateChild(d);if(vi(f))h=r;else{var v=c.getCompleteChild(d);h=null!=v?".priority"===di(f)&&v.getChild(fi(f)).isEmpty()?v:v.updateChild(f,r):Zi.EMPTY_NODE}if(p.equals(h))l=t;else l=Ma(t,e.filter.updateChild(u.getNode(),d,h,f,c,o),u.isFullyInitialized(),e.filter.filtersNodes())}}return l}function ko(e,t){return e.eventCache.isCompleteForChild(t)}function wo(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Co(e,t,n,r,i,a,o,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,u=t;s=vi(n)?r:new Ba(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=wo(0,t.serverCache.getNode().getImmediateChild(n),r);u=_o(e,u,new oi(n),s,i,a,o,l)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var d=wo(0,t.serverCache.getNode().getImmediateChild(n),r);u=_o(e,u,new oi(n),d,i,a,o,l)}})),u}var So,xo=function(){function e(t,n){y(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new ca(i.getIndex()),o=(r=i).loadsAllData()?new ca(r.getIndex()):r.hasLimit()?new ha(r):new da(r);this.processor_=function(e){return{filter:e}}(o);var l=n.serverCache,s=n.eventCache,u=a.updateFullNode(Zi.EMPTY_NODE,l.getNode(),null),c=o.updateFullNode(Zi.EMPTY_NODE,s.getNode(),null),d=new ja(u,l.isFullyInitialized(),a.filtersNodes()),h=new ja(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=La(h,d),this.eventGenerator_=new Oa(this.query_)}return _(e,[{key:"query",get:function(){return this.query_}}]),e}();function Eo(e,t){var n=za(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vi(t)&&!n.getImmediateChild(si(t)).isEmpty())?n.getChild(t):null}function No(e){return 0===e.eventRegistrations_.length}function To(e,t,n){var r=[];if(n){tt(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var l=e.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(l)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Io(e,t,n,r){t.type===ka.MERGE&&null!==t.source.queryId&&(tt(za(e.viewCache_),"We should always have a full cache before handling merges"),tt(Fa(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,l=yo(e.processor_,o,t,n,r);return i=e.processor_,a=l.viewCache,tt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),tt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),tt(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=l.viewCache,Po(e,l.changes,l.viewCache.eventCache.getNode(),null)}function Po(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Da(e,i,"child_removed",t,r,n),Da(e,i,"child_added",t,r,n),Da(e,i,"child_moved",a,r,n),Da(e,i,"child_changed",t,r,n),Da(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Ro,jo=_((function e(){y(this,e),this.views=new Map}));function Oo(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return tt(null!=a,"SyncTree gave us an op for an invalid query."),Io(a,t,n,r)}var o,l=[],s=T(e.views.values());try{for(s.s();!(o=s.n()).done;){var u=o.value;l=l.concat(Io(u,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return l}function Do(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var l=ao(n,i?r:null),s=!1;l?s=!0:r instanceof Zi?(l=oo(n,r),s=!1):(l=Zi.EMPTY_NODE,s=!1);var u=La(new ja(l,s,!1),new ja(r,i,!1));return new xo(t,u)}return o}function Lo(e,t,n,r,i,a){var o=Do(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qi,(function(e,t){r.push(la(e,t))})),n.isFullyInitialized()&&r.push(oa(n.getNode())),Po(e,r,n.getNode(),t)}(o,n)}function Mo(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],l=Bo(e);if("default"===i){var s,u=T(e.views.entries());try{for(u.s();!(s=u.n()).done;){var c=p(s.value,2),d=c[0],h=c[1];o=o.concat(To(h,n,r)),No(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(v){u.e(v)}finally{u.f()}}else{var f=e.views.get(i);f&&(o=o.concat(To(f,n,r)),No(f)&&(e.views.delete(i),f.query._queryParams.loadsAllData()||a.push(f.query)))}return l&&!Bo(e)&&a.push(new(tt(So,"Reference.ts has not been loaded"),So)(t._repo,t._path)),{removed:a,events:o}}function Ao(e){var t,n=[],r=T(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Fo(e,t){var n,r=null,i=T(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Eo(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function zo(e,t){if(t._queryParams.loadsAllData())return qo(e);var n=t._queryIdentifier;return e.views.get(n)}function Uo(e,t){return null!=zo(e,t)}function Bo(e){return null!=qo(e)}function qo(e){var t,n=T(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Wo=1,Ho=_((function e(t){y(this,e),this.listenProvider_=t,this.syncPointTree_=new Ba(null),this.pendingWriteTree_={visibleWrites:qa.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Vo(e,t,n,r,i){return function(e,t,n,r,i){tt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Wa(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Zo(e,new Pa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function $o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(eo(e.pendingWriteTree_,t)){var i=new Ba(null);return null!=r.snap?i=i.set(li(),!0):Cr(r.children,(function(e){i=i.set(new oi(e),!0)})),Zo(e,new Ta(r.path,i,n))}return[]}function Qo(e,t,n){return Zo(e,new Pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ko(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),l=[];if(o&&("default"===t._queryIdentifier||Uo(o,t))){var s=Mo(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var u=s.removed;if(l=s.events,!i){var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return Bo(t)}));if(c&&!d){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Bo(t))return[qo(t)];var r=[];return t&&(r=Ao(t)),Cr(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<f.length;++p){var v=f[p],m=v.query,y=nl(e,v);e.listenProvider_.startListening(sl(m),rl(e,m),y.hashFn,y.onComplete)}}if(!d&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(sl(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(il(t));e.listenProvider_.stopListening(sl(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=il(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return l}function Yo(e,t,n,r){var i=al(e,r);if(null!=i){var a=ol(i),o=a.path,l=a.queryId,s=mi(o,t);return ll(e,o,new Pa(Ea(l),s,n))}return[]}function Go(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=mi(e,i);a=a||Fo(t,n),o=o||Bo(t)}));var l,s=e.syncPointTree_.get(i);(s?(o=o||Bo(s),a=a||Fo(s,li())):(s=new jo,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)?l=!0:(l=!1,a=Zi.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Fo(t,li());n&&(a=a.updateImmediateChild(e,n))})));var u=Uo(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=il(t);tt(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var d=Wo++;e.queryToTagMap.set(c,d),e.tagToQueryMap.set(d,c)}var h=Lo(s,t,n,Za(e.pendingWriteTree_,i),a,l);if(!u&&!o&&!r){var f=zo(s,t);h=h.concat(function(e,t,n){var r=t._path,i=rl(e,t),a=nl(e,n),o=e.listenProvider_.startListening(sl(t),i,a.hashFn,a.onComplete),l=e.syncPointTree_.subtree(r);if(i)tt(!Bo(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=l.fold((function(e,t,n){if(!vi(e)&&t&&Bo(t))return[qo(t).query];var r=[];return t&&(r=r.concat(Ao(t).map((function(e){return e.query})))),Cr(n,(function(e,t){r=r.concat(t)})),r})),u=0;u<s.length;++u){var c=s[u];e.listenProvider_.stopListening(sl(c),rl(e,c))}return o}(e,t,f))}return h}function Jo(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Fo(n,mi(e,t));if(r)return r}));return io(r,t,i,n,!0)}function Xo(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=mi(e,n);r=r||Fo(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Fo(i,li()):(i=new jo,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new ja(r,!0,!1):null;return function(e){return Fa(e.viewCache_)}(Do(i,t,Za(e.pendingWriteTree_,t._path),a?o.getNode():Zi.EMPTY_NODE,a))}function Zo(e,t){return el(t,e.syncPointTree_,null,Za(e.pendingWriteTree_,li()))}function el(e,t,n,r){if(vi(e.path))return tl(e,t,n,r);var i=t.get(li());null==n&&null!=i&&(n=Fo(i,li()));var a=[],o=si(e.path),l=e.operationForChild(o),s=t.children.get(o);if(s&&l){var u=n?n.getImmediateChild(o):null,c=ho(r,o);a=a.concat(el(l,s,u,c))}return i&&(a=a.concat(Oo(i,e,r,n))),a}function tl(e,t,n,r){var i=t.get(li());null==n&&null!=i&&(n=Fo(i,li()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,l=ho(r,t),s=e.operationForChild(t);s&&(a=a.concat(tl(s,i,o,l)))})),i&&(a=a.concat(Oo(i,e,r,n))),a}function nl(e,t){var n=t.query,r=rl(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Zi.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=al(e,n);if(r){var i=ol(r),a=i.path,o=i.queryId,l=mi(a,t);return ll(e,a,new Ia(Ea(o),l))}return[]}(e,n._path,r):function(e,t){return Zo(e,new Ia({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ko(e,n,null,i)}}}function rl(e,t){var n=il(t);return e.queryToTagMap.get(n)}function il(e){return e._path.toString()+"$"+e._queryIdentifier}function al(e,t){return e.tagToQueryMap.get(t)}function ol(e){var t=e.indexOf("$");return tt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oi(e.substr(0,t))}}function ll(e,t,n){var r=e.syncPointTree_.get(t);return tt(r,"Missing sync point for query tag that we're tracking"),Oo(r,n,Za(e.pendingWriteTree_,t),null)}function sl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(tt(Ro,"Reference.ts has not been loaded"),Ro)(e._repo,e._path):e}var ul=function(){function e(t){y(this,e),this.node_=t}return _(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),cl=function(){function e(t,n){y(this,e),this.syncTree_=t,this.path_=n}return _(e,[{key:"getImmediateChild",value:function(t){var n=pi(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Jo(this.syncTree_,this.path_)}}]),e}(),dl=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},hl=function(e,t,n){return e&&"object"===typeof e?(tt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?fl(e[".sv"],t,n):"object"===typeof e[".sv"]?pl(e[".sv"],t):void tt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fl=function(e,t,n){if("timestamp"===e)return n.timestamp;tt(!1,"Unexpected server value: "+e)},pl=function(e,t,n){e.hasOwnProperty("increment")||tt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&tt(!1,"Unexpected increment value: "+r);var i=t.node();if(tt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},vl=function(e,t,n,r){return yl(t,new cl(n,e),r)},ml=function(e,t,n){return yl(e,new ul(t),n)};function yl(e,t,n){var r,i=e.getPriority().val(),a=hl(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,l=hl(o.getValue(),t,n);return l!==o.getValue()||a!==o.getPriority().val()?new Wi(l,na(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new Wi(a))),s.forEachChild(Qi,(function(e,i){var a=yl(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var gl=_((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};y(this,e),this.name=t,this.parent=n,this.node=r}));function _l(e,t){for(var n=t instanceof oi?t:new oi(t),r=e,i=si(n);null!==i;){var a=Nt(r.node.children,i)||{children:{},childCount:0};r=new gl(i,r,a),i=si(n=ci(n))}return r}function bl(e){return e.node.value}function kl(e,t){e.node.value=t,El(e)}function wl(e){return e.node.childCount>0}function Cl(e,t){Cr(e.node.children,(function(n,r){t(new gl(n,e,r))}))}function Sl(e,t,n,r){n&&!r&&t(e),Cl(e,(function(e){Sl(e,t,!0,r)})),n&&r&&t(e)}function xl(e){return new oi(null===e.parent?e.name:xl(e.parent)+"/"+e.name)}function El(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===bl(e)&&!wl(e)}(n),i=Et(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,El(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,El(e))}(e.parent,e.name,e)}var Nl=/[\[\].#$\/\u0000-\u001F\u007F]/,Tl=/[\[\].#$\u0000-\u001F\u007F]/,Il=10485760,Pl=function(e){return"string"===typeof e&&0!==e.length&&!Nl.test(e)},Rl=function(e){return"string"===typeof e&&0!==e.length&&!Tl.test(e)},jl=function(e,t,n,r){r&&void 0===t||Ol(Ot(e,"value"),t,n)},Ol=function e(t,n,r){var i=r instanceof oi?new _i(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+ki(i));if("function"===typeof n)throw new Error(t+"contains a function "+ki(i)+" with contents = "+n.toString());if(vr(n))throw new Error(t+"contains "+n.toString()+" "+ki(i));if("string"===typeof n&&n.length>Il/3&&Dt(n)>Il)throw new Error(t+"contains a string greater than "+Il+" utf8 bytes "+ki(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Cr(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Pl(n)))throw new Error(t+" contains an invalid key ("+n+") "+ki(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var l,s;s=n,(l=i).parts_.length>0&&(l.byteLength_+=1),l.parts_.push(s),l.byteLength_+=Dt(s),bi(l),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Dt(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+ki(i)+" in addition to actual children.")}},Dl=function(e,t,n,r){if((!r||void 0!==n)&&!Rl(n))throw new Error(Ot(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ll=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Dl(e,t,n,r)},Ml=function(e,t){if(".info"===si(t))throw new Error(e+" failed = Can't modify data under /.info/")},Al=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Pl(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rl(e)}(n))throw new Error(Ot(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Fl=_((function e(){y(this,e),this.eventLists_=[],this.recursionDepth_=0}));function zl(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||yi(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ul(e,t,n){zl(e,n),ql(e,(function(e){return yi(e,t)}))}function Bl(e,t,n){zl(e,n),ql(e,(function(e){return gi(e,t)||gi(t,e)}))}function ql(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Wl(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wl(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();lr&&cr("event: "+n.toString()),Nr(r)}}}var Hl="repo_interrupt",Vl=25,$l=function(){function e(t,n,r,i){y(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ga(),this.transactionQueueTree_=new gl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return _(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Ql(e,t,n){if(e.stats_=Wr(e.repoInfo_),e.forceRestClient_||Tr())e.server_=new ma(e.repoInfo_,(function(t,n,r,i){Gl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Jl(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new xi(e.repoInfo_,t,(function(t,n,r,i){Gl(e,t,n,r,i)}),(function(t){Jl(e,t)}),(function(t){!function(e,t){Cr(t,(function(t,n){Xl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return qr[n]||(qr[n]=t()),qr[n]}(e.repoInfo_,(function(){return new xa(e.stats_,e.server_)})),e.infoData_=new ya,e.infoSyncTree_=new Ho({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Qo(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Xl(e,"connected",!1),e.serverSyncTree_=new Ho({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Bl(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Kl(e){var t=e.infoData_.getNode(new oi(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Yl(e){return dl({timestamp:Kl(e)})}function Gl(e,t,n,r,i){e.dataUpdateCount++;var a=new oi(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var l=It(n,(function(e){return na(e)}));o=function(e,t,n,r){var i=al(e,r);if(i){var a=ol(i),o=a.path,l=a.queryId,s=mi(o,t),u=Ba.fromObject(n);return ll(e,o,new Ra(Ea(l),s,u))}return[]}(e.serverSyncTree_,a,l,i)}else{var s=na(n);o=Yo(e.serverSyncTree_,a,s,i)}else if(r){var u=It(n,(function(e){return na(e)}));o=function(e,t,n){var r=Ba.fromObject(n);return Zo(e,new Ra({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,u)}else{var c=na(n);o=Qo(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=ls(e,a)),Bl(e.eventQueue_,d,o)}function Jl(e,t){Xl(e,"connected",t),!1===t&&function(e){rs(e,"onDisconnectEvents");var t=Yl(e),n=ga();ba(e.onDisconnect_,li(),(function(r,i){var a=vl(r,i,e.serverSyncTree_,t);_a(n,r,a)}));var r=[];ba(n,li(),(function(t,n){r=r.concat(Qo(e.serverSyncTree_,t,n));var i=hs(e,t);ls(e,i)})),e.onDisconnect_=ga(),Bl(e.eventQueue_,li(),r)}(e)}function Xl(e,t,n){var r=new oi("/.info/"+t),i=na(n);e.infoData_.updateSnapshot(r,i);var a=Qo(e.infoSyncTree_,r,i);Bl(e.eventQueue_,r,a)}function Zl(e){return e.nextWriteId_++}function es(e,t,n,r,i){rs(e,"set",{path:t.toString(),value:n,priority:r});var a=Yl(e),o=na(n,r),l=Jo(e.serverSyncTree_,t),s=ml(o,l,a),u=Zl(e),c=Vo(e.serverSyncTree_,t,s,u,!0);zl(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||pr("set at "+t+" failed: "+n);var o=$o(e.serverSyncTree_,u,!a);Bl(e.eventQueue_,t,o),is(e,i,n,r)}));var d=hs(e,t);ls(e,d),Bl(e.eventQueue_,d,[])}function ts(e,t,n){var r;r=".info"===si(t._path)?Ko(e.infoSyncTree_,t,n):Ko(e.serverSyncTree_,t,n),Ul(e.eventQueue_,t._path,r)}function ns(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Hl)}function rs(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];cr.apply(void 0,[t].concat(r))}function is(e,t,n,r){t&&Nr((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function as(e,t,n){return Jo(e.serverSyncTree_,t,n)||Zi.EMPTY_NODE}function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||ds(e,t),bl(t)){var n=us(e,t);tt(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=as(e,t,r),a=i,o=i.hash(),l=0;l<n.length;l++){var s=n[l];tt(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var u=mi(t,s.path);a=a.updateChild(u,s.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){rs(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat($o(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},l=0;l<n.length;l++)o(l);ds(e,_l(e.transactionQueueTree_,t)),os(e,e.transactionQueueTree_),Bl(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)Nr(a[s])}else{if("datastale"===r)for(var u=0;u<n.length;u++)3===n[u].status?n[u].status=4:n[u].status=0;else{pr("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}ls(e,t)}}),o)}(e,xl(t),n)}else wl(t)&&Cl(t,(function(t){os(e,t)}))}function ls(e,t){var n=ss(e,t),r=xl(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var l,s,u=t[o],c=mi(n,u.path),d=!1;if(tt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)d=!0,l=u.abortReason,i=i.concat($o(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Vl)d=!0,l="maxretry",i=i.concat($o(e.serverSyncTree_,u.currentWriteId,!0));else{var h=as(e,u.path,a);u.currentInputSnapshot=h;var f=t[o].update(h.val());if(void 0!==f){Ol("transaction failed: Data returned ",f,u.path);var p=na(f);"object"===typeof f&&null!=f&&Et(f,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=Yl(e),y=ml(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=Zl(e),a.splice(a.indexOf(v),1),i=(i=i.concat(Vo(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat($o(e.serverSyncTree_,v,!0))}else d=!0,l="nodata",i=i.concat($o(e.serverSyncTree_,u.currentWriteId,!0))}Bl(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===l?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(l),!1,null)}))))},l=0;l<t.length;l++)o(l);ds(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)Nr(r[s]);os(e,e.transactionQueueTree_)}(e,us(e,n),r),r}function ss(e,t){var n,r=e.transactionQueueTree_;for(n=si(t);null!==n&&void 0===bl(r);)r=_l(r,n),n=si(t=ci(t));return r}function us(e,t){var n=[];return cs(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function cs(e,t,n){var r=bl(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Cl(t,(function(t){cs(e,t,n)}))}function ds(e,t){var n=bl(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,kl(t,n.length>0?n:void 0)}Cl(t,(function(t){ds(e,t)}))}function hs(e,t){var n=xl(ss(e,t)),r=_l(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){fs(e,t)})),fs(e,r),Sl(r,(function(t){fs(e,t)})),n}function fs(e,t){var n=bl(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(tt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(tt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($o(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?kl(t,void 0):n.length=a+1,Bl(e.eventQueue_,xl(t),i);for(var l=0;l<r.length;l++)Nr(r[l])}}var ps=function(e,t){var n=vs(e),r=n.namespace;"firebase.com"===n.domain&&fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Fr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new oi(n.pathString)}},vs=function(e){var t="",n="",r="",i="",a="",o=!0,l="https",s=443;if("string"===typeof e){var u=e.indexOf("//");u>=0&&(l=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=T(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):pr("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(u=t.indexOf(":"))>=0?(o="https"===l||"wss"===l,s=parseInt(t.substring(u+1),10)):u=t.length;var f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:a}},ms="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ys=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){y(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return _(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}}]),e}()),gs=function(){function e(t,n,r){y(this,e),this.eventRegistration=t,this.error=n,this.path=r}return _(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),_s=function(){function e(t,n){y(this,e),this.snapshotCallback=t,this.cancelCallback=n}return _(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return tt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),bs=function(){function e(t,n,r,i){y(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return _(e,[{key:"key",get:function(){return vi(this._path)?null:di(this._path)}},{key:"ref",get:function(){return new ks(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=va(this._queryParams),t=kr(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return va(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Lt(t))instanceof e))return!1;var n=this._repo===t._repo,r=yi(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var ks=function(e){k(n,e);var t=x(n);function n(e,r){return y(this,n),t.call(this,e,r,new fa,!1)}return _(n,[{key:"parent",get:function(){var e=fi(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(bs),ws=function(){function e(t,n,r){y(this,e),this._node=t,this.ref=n,this._index=r}return _(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new oi(t),r=Ss(this.ref,t);return new e(this._node.getChild(n),r,Qi)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ss(n.ref,r),Qi))}))}},{key:"hasChild",value:function(e){var t=new oi(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Cs(e,t){return(e=Lt(e))._checkNotDeleted("ref"),void 0!==t?Ss(e._root,t):e._root}function Ss(e,t){return null===si((e=Lt(e))._path)?Ll("child","path",t,!1):Dl("child","path",t,!1),new ks(e._repo,pi(e._path,t))}function xs(e,t){e=Lt(e),Ml("set",e._path),jl("set",t,e._path,!1);var n=new pt;return es(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Es(e){e=Lt(e);var t=new _s((function(){})),n=new Ns(t);return function(e,t,n){var r=Xo(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=na(r).withIndex(t._queryParams.getIndex());if(Go(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Qo(e.serverSyncTree_,t._path,a);else{var o=rl(e.serverSyncTree_,t);i=Yo(e.serverSyncTree_,t._path,a,o)}return Bl(e.eventQueue_,t._path,i),Ko(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return rs(e,"get for query "+St(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new ws(t,new ks(e._repo,e._path),e._queryParams.getIndex())}))}var Ns=function(){function e(t){y(this,e),this.callbackContext=t}return _(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new ys("value",this,new ws(e.snapshotNode,new ks(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new gs(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Ts=function(){function e(t,n){y(this,e),this.eventType=t,this.callbackContext=n}return _(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new gs(this,e,t):null}},{key:"createEvent",value:function(e,t){tt(null!=e.childName,"Child events should have a childName.");var n=Ss(new ks(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ys(e.type,this,new ws(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Is(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,l=function(t,n){ts(e._repo,e,u),o(t,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var s=new _s(n,a||void 0),u="value"===t?new Ns(s):new Ts(t,s);return function(e,t,n){var r;r=".info"===si(t._path)?Go(e.infoSyncTree_,t,n):Go(e.serverSyncTree_,t,n),Ul(e.eventQueue_,t._path,r)}(e._repo,e,u),function(){return ts(e._repo,e,u)}}function Ps(e,t,n,r){return Is(e,"value",t,n,r)}!function(e){tt(!So,"__referenceConstructor has already been defined"),So=e}(ks),function(e){tt(!Ro,"__referenceConstructor has already been defined"),Ro=e}(ks);var Rs="FIREBASE_DATABASE_EMULATOR_HOST",js={},Os=!1;function Ds(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cr("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,l=ps(a,i),s=l.repoInfo,u=void 0;"undefined"!==typeof process&&(u={NODE_ENV:"production",PUBLIC_URL:"/board-game",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Rs]),u?(o=!0,a="http://".concat(u,"?ns=").concat(s.namespace),s=(l=ps(a,i)).repoInfo):o=!l.repoInfo.secure;var c=i&&o?new jr(jr.OWNER):new Rr(e.name,e.options,t);Al("Invalid Firebase Database URL",l),vi(l.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=js[t.name];i||(i={},js[t.name]=i);var a=i[e.toURLString()];a&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new $l(e,Os,n,r),i[e.toURLString()]=a,a}(s,e,c,new Pr(e.name,n));return new Ls(d,e)}var Ls=function(){function e(t,n){y(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return _(e,[{key:"_repo",get:function(){return this._instanceStarted||(Ql(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ks(this._repo,li())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=js[t];n&&n[e.key]===e||fr("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ns(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&fr("Cannot call "+e+" on a deleted database.")}}]),e}();function Ms(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Lt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&fr("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new jr(jr.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);a=new jr(o)}!function(e,t,n,r){e.repoInfo_=new Fr("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}xi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){Jn=e}(Tn),Cn(new Mt("database",(function(e,t){var n=t.instanceIdentifier;return Ds(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Pn(Yn,Gn,e),Pn(Yn,Gn,"esm2017")}();var As=n(184),Fs=function(e){var n=e.settings,r=e.setSettings,i=e.playerNumber,a=e.setPlayerNumber,o=e.sessionName,l=e.setSessionName,s=e.inputHandler,u=e.changeIcon,c=e.disablePlayer,d=p((0,t.useState)(!1),2),h=d[0],f=d[1],v=p((0,t.useState)(1),2),m=v[0],y=v[1],g=p((0,t.useState)(!1),2),_=g[0],b=g[1],k=p((0,t.useState)(),2),w=k[0],C=k[1],S=p((0,t.useState)(!1),2),x=S[0],E=S[1],N=function(){var e=[];for(var t in n)n[t].disable||e.push(n[t].icon);var r=new Set(e).size;return n.player3.disable&&n.player4.disable?2===r:n.player3.disable||n.player4.disable?3===r:4===r};(0,t.useEffect)((function(){T()}),[]);var T=function(){var e=Ze(Je().mark((function e(){var t,n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Cs(ou),n=[],Es(Ss(t,"/")).then(function(){var e=Ze(Je().mark((function e(t){var r,i;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.val();case 2:for(i in r=e.sent)n.push(r[i].sessionId);C(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Ze(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cs(ou,"".concat(t,"/")),e.abrupt("return",Es(Ss(n,"settings")).then((function(e){return e.val()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Ze(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cs(ou,"".concat(t,"/")),e.next=3,Es(Ss(n,"joinedPlayers")).then(function(){var e=Ze(Je().mark((function e(o){var s,u;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.val();case 2:if(!((s=e.sent)>=4||i)){e.next=5;break}return e.abrupt("return");case 5:return xs(Ss(n,"joinedPlayers"),s+1),e.next=8,I(t);case 8:u=e.sent,a(s+1),l(t),r(u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,As.jsxs)("div",{className:"title-menu",children:[!h&&!_&&(0,As.jsxs)("div",{className:"btn-group",children:[(0,As.jsx)("button",{className:"play-btn",onClick:function(){return f(!h)},children:"Play Game"}),(0,As.jsx)("button",{className:"play-btn",onClick:function(){return b(!_)},children:"Join"})]}),_&&(0,As.jsxs)("div",{className:"settings",children:[(0,As.jsxs)("div",{className:"sessions btn-group",children:[(0,As.jsx)("h1",{children:"Sessions"}),w&&w.length?null===w||void 0===w?void 0:w.map((function(e,t){return(0,As.jsx)("button",{onClick:function(){return P(e)},children:e},t)})):(0,As.jsx)("p",{children:"There are no sessions currently"}),(0,As.jsxs)("p",{style:{wordWrap:"break-word"},children:["current session: ",o]})]}),(0,As.jsx)(Ke,{to:"/online-game",className:N()?"buy-btn":"dont-buy-btn",onClick:o?void 0:function(e){return e.preventDefault()},children:"Go"})]}),h&&(0,As.jsxs)("div",{className:"settings",children:[(0,As.jsxs)("div",{className:"special-card",children:[(0,As.jsx)("div",{className:"card-name plain",children:(0,As.jsx)("input",{type:"text",maxLength:10,onChange:function(e){return s(e,m)},value:1===m?n.player1.name:2===m?n.player2.name:3===m?n.player3.name:n.player4.name})}),(0,As.jsxs)("div",{className:"logo-carousel",children:[(0,As.jsx)("button",{onClick:function(e){return u(e,m)},value:"backward",children:"<"}),(0,As.jsx)("div",{className:"logo logo-".concat(1===m?n.player1.icon:2===m?n.player2.icon:3===m?n.player3.icon:n.player4.icon)}),(0,As.jsx)("button",{onClick:function(e){return u(e,m)},value:"forward",children:">"})]}),(0,As.jsx)("button",{className:3===m&&!n.player3.disable||4===m&&!n.player4.disable?"disable-btn":"disable-btn disable-on",onClick:function(){return c(m)},disabled:!(3===m&&n.player4.disable||4===m&&!n.player3.disable),children:3===m&&n.player3.disable||4===m&&n.player4.disable?"Enable":"Disable"}),(0,As.jsxs)("div",{className:"btn-group",children:[(0,As.jsx)("button",{className:1===m?"pseudo-select":"",onClick:function(){return y(1)},children:"1"}),(0,As.jsx)("button",{className:2===m?"pseudo-select":"",onClick:function(){return y(2)},children:"2"}),(0,As.jsx)("button",{className:3===m?"pseudo-select":"",onClick:function(){return y(3)},children:"3"}),(0,As.jsx)("button",{className:4===m?"pseudo-select":"",onClick:function(){return y(4)},children:"4"})]})]}),(0,As.jsx)(Ke,{to:x?"/online-game":"/game",className:N()?"buy-btn":"dont-buy-btn",onClick:N()?void 0:function(e){return e.preventDefault()},children:N()?"Go":"No Duplicate Icons"}),(0,As.jsx)("button",{className:"play-btn host-btn",onClick:x?function(){E(!1),function(e){Ml("remove",e._path),xs(e,null)}(o)}:function(){E(!0);var e,t=Cs(ou,n.player1.name);Ps(t,(function(t){e=t.val()})),e||(xs(t,{sessionId:n.player1.name,settings:n,joinedPlayers:1,gameBoard:!1,log:!1}),a(1),l(t))},children:x?"Stop Hosting":"Host"})]})]})},zs=function(e){var t=e.localPlayer,n=(e.index,e.player),r=e.checkJail;e.changeTurn;return(0,As.jsx)("div",{className:"player player-".concat(n.turnOrder," logo-").concat(n.logo,"\n            ").concat(r(n)?"logo-jail":"","\n            ").concat(n.turnOrder===t.turnOrder?"logo-current-turn":"","\n            ")})},Us=function(e){var n=e.localPlayer,r=e.players,i=e.checkJail,a=e.changeTurn,o=e.cursorMode,l=e.inspectSquare,s=e.placeOnSquare,u=e.sellFromSquare,c=e.square,d=e.index,h=p((0,t.useState)([]),2),f=h[0],v=h[1];(0,t.useEffect)((function(){if(r){var e=[];r.forEach((function(t){t.location===c.number&&e.push(t)})),v(e)}}),[r,c]);return(0,As.jsxs)("div",{className:"square square-".concat(d),onClick:function(e){switch(o){case"inspect":l(e,c);break;case"place":s(e,c);break;case"sell":u(e,c)}},children:[(0,As.jsx)("p",{children:c.name}),(0,As.jsx)("div",{className:"players",children:f.map((function(e,t){return(0,As.jsx)("div",{children:(0,As.jsx)(zs,{localPlayer:n,player:e,checkJail:i,changeTurn:a,index:f[t].turnOrder})},t)}))}),"market"!==c.ownedBy&&c.ownedBy?(0,As.jsx)("div",{className:"house-group",children:function(){for(var e=[],t=0;t<c.properties;t++)e.push(t);return e.length<5?e.map((function(e,t){return(0,As.jsx)("div",{className:"house"},t)})):(0,As.jsx)("div",{className:"hotel"})}()}):c.cost.deed>0&&"market"===c.ownedBy?(0,As.jsxs)("p",{children:[(0,As.jsx)("span",{className:"m-symbol"}),c.cost.deed]}):"",1===c.number&&(0,As.jsx)("span",{className:"samsara"}),21===c.number?(0,As.jsxs)("p",{className:"money",children:[(0,As.jsx)("span",{className:"m-symbol"}),c.cost.deed]}):void 0,5===c.number||39===c.number?(0,As.jsxs)("p",{className:"tax",children:[(0,As.jsx)("span",{className:"m-symbol"}),c.cost.deed]}):void 0,8===c.number||23===c.number||37===c.number?(0,As.jsx)("div",{className:"wish-icon"}):void 0,3===c.number?(0,As.jsx)("div",{className:"common-chest"}):void 0,18===c.number?(0,As.jsx)("div",{className:"exquisite-chest"}):void 0,34===c.number?(0,As.jsx)("div",{className:"luxurious-chest"}):void 0,(0,As.jsx)("div",{className:"square-name ".concat(c.group)})]})},Bs=function(e){var n=e.localPlayer,r=e.diceNum,i=e.rollDice,a=p((0,t.useState)(!1),2),o=a[0],l=a[1],s=p((0,t.useState)(2),2),u=s[0],c=s[1],d=p((0,t.useState)(),2),h=d[0],f=d[1];return(0,As.jsx)("div",{className:"dice \n                ".concat(o?"rolling":""," \n                ").concat(n.dice1.hasRolled&&1===r?"rolled":"","\n                ").concat(n.dice2.hasRolled&&2===r?"rolled":""),onDragLeave:function(e){1!==r||n.dice1.hasRolled||l(!0),2!==r||n.dice2.hasRolled||l(!0)},onTouchMove:function(e){1!==r||n.dice1.hasRolled||l(!0),2!==r||n.dice2.hasRolled||l(!0)},onAnimationStart:function(){var e=setInterval((function(){var e=Math.ceil(6*Math.random());c(e)}),100);f(e)},onAnimationEnd:function(){i(r),l(!1),clearInterval(h)},draggable:"true",children:o?(0,As.jsx)("p",{children:u}):(0,As.jsx)("p",{children:1===r?n.dice1.number:n.dice2.number})})},qs=function(e){var t=e.inspectionTarget,n=e.toggleInspect;return(0,As.jsxs)("ul",{className:"property-card",onClick:n,children:[(0,As.jsx)("li",{className:"card-name ".concat(null===t||void 0===t?void 0:t.group),children:null===t||void 0===t?void 0:t.name}),(0,As.jsxs)("li",{children:["Rent",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[0]]})]}),(0,As.jsxs)("li",{children:["Rent with Color Set",(0,As.jsxs)("span",{children:[ru,t?2*(null===t||void 0===t?void 0:t.rent[0]):void 0]})]}),(0,As.jsxs)("li",{children:[(0,As.jsxs)("span",{children:["Rent with"," ",(0,As.jsx)("span",{className:"house-group",children:(0,As.jsx)("span",{className:"house"})})]}),(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[1]]})]}),(0,As.jsxs)("li",{children:[(0,As.jsxs)("span",{children:["Rent with"," ",(0,As.jsxs)("span",{className:"house-group",children:[(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"})]})]}),(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[2]]})]}),(0,As.jsxs)("li",{children:[(0,As.jsxs)("span",{children:["Rent with"," ",(0,As.jsxs)("span",{className:"house-group",children:[(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"})]})]}),(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[3]]})]}),(0,As.jsxs)("li",{children:[(0,As.jsxs)("span",{children:["Rent with"," ",(0,As.jsxs)("span",{className:"house-group",children:[(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"})]})]}),(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[4]]})]}),(0,As.jsxs)("li",{children:[(0,As.jsxs)("span",{children:["Rent with"," ",(0,As.jsx)("span",{className:"house-group",children:(0,As.jsx)("span",{className:"hotel"})})]}),(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[5]]})]}),(0,As.jsx)("hr",{}),(0,As.jsxs)("li",{children:["House Cost",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.cost.house," each"]})]}),(0,As.jsxs)("li",{children:["Hotel Cost",(0,As.jsxs)("span",{children:[ru,t?4*(null===t||void 0===t?void 0:t.cost.hotel):void 0," ","total"]})]}),(0,As.jsx)("li",{className:"card-owner",children:"market"===(null===t||void 0===t?void 0:t.ownedBy)?(0,As.jsxs)("span",{children:["Available To Purchase"," ",ru,null===t||void 0===t?void 0:t.cost.deed]}):(0,As.jsx)("span",{children:null===t||void 0===t?void 0:t.ownedBy})})]})},Ws=function(e){var t=e.inspectionTarget,n=e.gameBoard,r=e.jailedPlayers,i=e.toggleInspect,a=function(){var e=[];return n.players.forEach((function(t){11===t.location&&o(t)&&e.push(null===t||void 0===t?void 0:t.name)})),e.join(", ")},o=function(e){var t=!0;return r.forEach((function(n){e.name===n.name&&(t=!1)})),t};return(0,As.jsxs)("ul",{className:"special-card",onClick:i,children:[(0,As.jsx)("li",{className:"card-name plain",children:null===t||void 0===t?void 0:t.name}),(0,As.jsxs)("div",{children:[(0,As.jsxs)("li",{children:[1===(null===t||void 0===t?void 0:t.number)?(0,As.jsxs)("span",{children:["On starting a new samsara receive ",ru,(0,As.jsx)("span",{className:"free-parking-prize money",children:"200"})]}):"",11===(null===t||void 0===t?void 0:t.number)?"Visiting":"",21===(null===t||void 0===t?void 0:t.number)?"On landing here receive money that has collected from taxes":"","go to jail"===(null===t||void 0===t?void 0:t.name)?"Go directly to jail, do not pass go, do not receive 200!":""]}),11===(null===t||void 0===t?void 0:t.number)?a()?(0,As.jsx)("li",{children:a()}):(0,As.jsxs)("div",{children:[(0,As.jsx)("hr",{}),(0,As.jsx)("br",{}),(0,As.jsx)("li",{children:"There are No Visitors"})]}):""]}),1===(null===t||void 0===t?void 0:t.number)&&(0,As.jsx)("div",{className:"samsara"}),11===(null===t||void 0===t?void 0:t.number)&&r?(0,As.jsxs)("div",{className:"jailed-players",children:[(0,As.jsx)("li",{children:"Jail"}),(0,As.jsx)("hr",{}),(0,As.jsx)("br",{}),(0,As.jsx)("li",{children:r.length>0?function(){var e=[];return r.forEach((function(t){e.push(null===t||void 0===t?void 0:t.name)})),e.join(", ")}():"There are No Players in jail"})]}):"",11===(null===t||void 0===t?void 0:t.number)?(0,As.jsx)("li",{className:"jail-description",children:"To leave, you must roll a double, or higher total than 7!"}):"",21===(null===t||void 0===t?void 0:t.number)?(0,As.jsxs)("li",{className:"free-parking-prize",children:["Current",(0,As.jsxs)("span",{className:"money",children:[ru,t.cost.deed]})]}):""]})},Hs=function(e){var t=e.inspectionTarget,n=e.toggleInspect;return(0,As.jsxs)("ul",{className:"station-card",onClick:n,children:[(0,As.jsx)("li",{className:"card-name plain",children:null===t||void 0===t?void 0:t.name}),(0,As.jsxs)("li",{children:["Rent",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[1]]})]}),(0,As.jsxs)("li",{children:["With 2 Ports",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[2]]})]}),(0,As.jsxs)("li",{children:["With 3 Ports",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[3]]})]}),(0,As.jsxs)("li",{children:["With 4 Ports",(0,As.jsxs)("span",{children:[ru,null===t||void 0===t?void 0:t.rent[4]]})]}),(0,As.jsx)("li",{className:"card-owner",children:"market"===(null===t||void 0===t?void 0:t.ownedBy)?(0,As.jsxs)("span",{children:["Available To Purchase"," ",ru,null===t||void 0===t?void 0:t.cost.deed]}):null===t||void 0===t?void 0:t.ownedBy})]})},Vs=function(e){var t=e.inspectionTarget,n=e.toggleInspect;return(0,As.jsxs)("ul",{className:"company-card",onClick:n,children:[(0,As.jsx)("li",{className:"card-name plain",children:null===t||void 0===t?void 0:t.name}),(0,As.jsxs)("li",{children:["If you own",(0,As.jsx)("span",{className:"money",children:" One "}),(0,As.jsx)("strong",{children:"Utility"})," card you receive",(0,As.jsx)("span",{className:"money",children:" 4x "}),"the amount that the payer rolled this turn."]}),(0,As.jsxs)("li",{children:["If you own",(0,As.jsx)("span",{className:"money",children:" Two "}),(0,As.jsx)("strong",{children:"Utility"})," cards you receive",(0,As.jsx)("span",{className:"money",children:" 10x "}),"the amount that the payer rolled this turn."]}),(0,As.jsx)("li",{className:"card-owner",children:"market"===(null===t||void 0===t?void 0:t.ownedBy)?(0,As.jsxs)("span",{children:["Available To Purchase",(0,As.jsx)("span",{className:"m-symbol"}),null===t||void 0===t?void 0:t.cost.deed]}):(0,As.jsx)("span",{children:null===t||void 0===t?void 0:t.ownedBy})})]})},$s=function(e){var t=e.inspectionTarget,n=e.toggleInspect;return(0,As.jsxs)("ul",{className:"special-card",onClick:n,children:[(0,As.jsx)("li",{className:"card-name plain",children:null===t||void 0===t?void 0:t.name}),(0,As.jsx)("li",{children:"Pay the tax and the money will be transfered over to free parking"}),(0,As.jsxs)("li",{className:"free-parking-prize",children:["Tax",(0,As.jsxs)("span",{className:"tax",children:[ru,null===t||void 0===t?void 0:t.cost.deed]})]})]})},Qs=function(e){e.inspectionTarget;var t=e.toggleInspect;return(0,As.jsx)("ul",{className:"chance-card card-back",onClick:t,children:(0,As.jsx)("li",{className:"chance-icon"})})},Ks=function(e){var n=e.inspectionTarget,r=e.gameBoard,i=e.jailedPlayers,a=e.toggleInspect,o=p((0,t.useState)(),2),l=o[0],s=o[1];return(0,t.useEffect)((function(){!function(){var e=null===n||void 0===n?void 0:n.number,t=[3===e,8===e,18===e,23===e,34===e,37===e],r=[5===e,39===e],i=[6===e,16===e,26===e,36===e],a=[13===e,29===e];[1===e,11===e,21===e,31===e].some(Boolean)?s("special"):t.some(Boolean)?s("chance"):r.some(Boolean)?s("tax"):i.some(Boolean)?s("station"):a.some(Boolean)?s("company"):s("property")}()}),[]),(0,As.jsx)(As.Fragment,{children:(0,As.jsxs)("div",{className:"inspect",children:["property"===l&&(0,As.jsx)(qs,{inspectionTarget:n,toggleInspect:a}),"special"===l&&(0,As.jsx)(Ws,{inspectionTarget:n,gameBoard:r,jailedPlayers:i,toggleInspect:a}),"station"===l&&(0,As.jsx)(Hs,{inspectionTarget:n,toggleInspect:a}),"company"===l&&(0,As.jsx)(Vs,{inspectionTarget:n,toggleInspect:a}),"tax"===l&&(0,As.jsx)($s,{inspectionTarget:n,toggleInspect:a}),"chance"===l&&(0,As.jsx)(Qs,{inspectionTarget:n,toggleInspect:a})]})})},Ys=function(e){var t=e.players,n=e.shouldClose;return(0,As.jsx)("div",{className:t.length<2&&!n?"winner":n?"stats close":"stats",children:t.map((function(e,t){return(0,As.jsxs)("div",{className:"player-stats",children:[(0,As.jsxs)("p",{className:"card-name plain card-".concat(e.logo),children:[e.name,(0,As.jsx)("span",{className:"logo logo-".concat(e.logo)})]}),(0,As.jsxs)("p",{className:"money",children:[(0,As.jsx)("span",{className:"m-symbol"}),e.money]}),(0,As.jsx)("hr",{}),(0,As.jsx)("p",{className:"player-owned",children:e.owned.map((function(e,t){return(0,As.jsx)("span",{className:"text-".concat(e.group),children:e.name},t)}))})]},t)}))})},Gs=function(e){var t=e.buyProperty,n=e.dontBuy,r=e.localPlayer,i=e.inspectionTarget,a=e.checkIfStation,o=e.checkIfUtility,l=e.buyType;return(0,As.jsxs)(As.Fragment,{children:[(0,As.jsx)("div",{className:"underlay",onClick:n}),(0,As.jsx)("div",{className:"buy-popup",children:(0,As.jsxs)("div",{className:"buy-menu",children:[a(null===i||void 0===i?void 0:i.number)?(0,As.jsx)(Hs,{inspectionTarget:i,toggleInspect:void 0}):o(null===i||void 0===i?void 0:i.number)?(0,As.jsx)(Vs,{inspectionTarget:i,toggleInspect:void 0}):(0,As.jsx)(qs,{inspectionTarget:i,toggleInspect:void 0}),(0,As.jsxs)("p",{className:"text-plain",children:["Your Money:",(0,As.jsxs)("span",{className:"money",children:[" ",(0,As.jsx)("span",{className:"m-symbol"}),r.money]})]}),(0,As.jsxs)("div",{className:"btn-group",children:[(0,As.jsx)("button",{className:"buy-btn",onClick:function(){return t(i)},children:"property"===l?(0,As.jsxs)("span",{children:["Buy Property",(0,As.jsx)("span",{className:"m-symbol"}),null===i||void 0===i?void 0:i.cost.deed]}):i&&(null===i||void 0===i?void 0:i.properties)<4?(0,As.jsxs)("span",{children:["Place House",(0,As.jsx)("span",{className:"m-symbol"}),null===i||void 0===i?void 0:i.cost.house]}):(0,As.jsxs)("span",{children:["Place Hotel",(0,As.jsx)("span",{className:"m-symbol"}),null===i||void 0===i?void 0:i.cost.hotel]})}),(0,As.jsx)("button",{className:"dont-buy-btn",onClick:n,children:"Don't Buy"})]})]})})]})},Js=function(e){var t=e.buyProperty,n=e.dontBuy,r=e.localPlayer,i=e.inspectionTarget,a=e.checkIfStation,o=e.checkIfUtility,l=e.buyType;return(0,As.jsxs)(As.Fragment,{children:[(0,As.jsx)("div",{className:"underlay",onClick:n}),(0,As.jsx)("div",{className:"buy-popup",children:(0,As.jsxs)("div",{className:"buy-menu",children:[a(null===i||void 0===i?void 0:i.number)?(0,As.jsx)(Hs,{inspectionTarget:i,toggleInspect:void 0}):o(null===i||void 0===i?void 0:i.number)?(0,As.jsx)(Vs,{inspectionTarget:i,toggleInspect:void 0}):(0,As.jsx)(qs,{inspectionTarget:i,toggleInspect:void 0}),(0,As.jsxs)("p",{className:"text-plain",children:["Your Money:",(0,As.jsxs)("span",{className:"money",children:[(0,As.jsx)("span",{className:"m-symbol"})," ",r.money]})]}),(0,As.jsxs)("div",{className:"btn-group",children:[(0,As.jsx)("button",{className:"dont-buy-btn",onClick:function(){return t(i)},children:"sell"===l&&i&&(null===i||void 0===i?void 0:i.properties)<1||a(null===i||void 0===i?void 0:i.number)||o(null===i||void 0===i?void 0:i.number)?(0,As.jsxs)("span",{children:["Sell Property",(0,As.jsx)("span",{className:"m-symbol"}),null!==i&&void 0!==i&&i.cost.deed?(null===i||void 0===i?void 0:i.cost.deed)/2:void 0]}):i&&(null===i||void 0===i?void 0:i.properties)<5?(0,As.jsxs)("span",{children:["Sell House",(0,As.jsx)("span",{className:"m-symbol"}),null!==i&&void 0!==i&&i.cost.house?(null===i||void 0===i?void 0:i.cost.house)/2:void 0]}):(0,As.jsxs)("span",{children:["Sell Hotel",(0,As.jsx)("span",{className:"m-symbol"}),null!==i&&void 0!==i&&i.cost.hotel?(null===i||void 0===i?void 0:i.cost.hotel)/2:void 0]})}),(0,As.jsx)("button",{className:"buy-btn",onClick:n,children:"Don't Sell"})]})]})})]})},Xs=function(e){var n=e.gameBoard,r=e.localPlayer,i=e.rollDice,a=e.changeTurn,o=e.jailedPlayers,l=e.locationEventLeaveJail,s=e.checkJail,c=e.checkIfStation,d=e.checkIfUtility,h=e.checkForSet,f=e.pushToLog,v=p((0,t.useState)(!0),2),m=v[0],y=v[1],g=p((0,t.useState)(!0),2),_=g[0],b=g[1],k=p((0,t.useState)(!1),2),w=k[0],C=k[1],S=p((0,t.useState)("inspect"),2),x=S[0],E=S[1],N=p((0,t.useState)(!1),2),T=N[0],I=N[1],P=p((0,t.useState)(!1),2),R=P[0],j=P[1],O=p((0,t.useState)(!1),2),D=O[0],L=O[1],M=p((0,t.useState)(),2),A=M[0],F=M[1],z=function(){b(!_),C(!1)},U=function(){return I(!T)},B=function(){return j(!R)},q=function(){return L(!D)},W=function(e){return E(e)},H=function(e,t){"end-turn"!==e.target.value&&"inspect"===x&&((null===A||void 0===A?void 0:A.name)===t.name&&T||!T?U():(U(),setTimeout((function(){return I(!0)}),50)),F(t))},V=function(e,t){"end-turn"!==e.target.value&&"place"===x&&r.name===t.ownedBy&&t.group&&(t.properties>=5||((null===A||void 0===A?void 0:A.name)===t.name&&B(),F(t)))},$=function(e,t){"end-turn"!==e.target.value&&"sell"===x&&r.name===t.ownedBy&&((null===A||void 0===A?void 0:A.name)===t.name&&q(),F(t))};return(0,t.useEffect)((function(){setTimeout((function(){return y(!1)}),1e3)}),[m]),(0,As.jsxs)("div",{id:"game-board",className:r.location<12&&r.location>1?"mondo":r.location>11&&r.location<22?"liyu":r.location>21&&r.location<32?"ina":"sume",children:[u({},n).squares.map((function(e,i){return(0,As.jsx)(t.Fragment,{children:(0,As.jsx)(Us,{localPlayer:r,players:n.players,checkJail:s,changeTurn:a,cursorMode:x,inspectSquare:H,placeOnSquare:V,sellFromSquare:$,square:e,index:i})},i)})),(0,As.jsxs)("div",{className:"dice-holder",children:[!m&&(0,As.jsx)(Bs,{localPlayer:r,diceNum:1,rollDice:i}),!m&&(0,As.jsx)(Bs,{localPlayer:r,diceNum:2,rollDice:i})]}),T&&(0,As.jsx)(Ks,{inspectionTarget:A,gameBoard:n,jailedPlayers:o,toggleInspect:U}),_&&(0,As.jsx)(Ys,{players:n.players,shouldClose:w}),R&&(0,As.jsx)(Gs,{buyProperty:function(e){e&&e.group&&(e.group&&!h(r,e.group)||(r.money>e.cost.house&&e.properties<4?(e.properties+=1,r.money-=e.cost.house):r.money>e.cost.hotel&&4===e.properties&&(e.properties+=1,r.money-=e.cost.hotel),f(r,"for, ",e.name,"was expanded","".concat(e.cost.house)),B()))},dontBuy:B,localPlayer:r,inspectionTarget:A,checkIfStation:c,checkIfUtility:d,buyType:"building"}),D&&(0,As.jsx)(Js,{buyProperty:function(e){if(e){if(0===e.properties||c(e.number)||d(e.number)){for(var t=0;t<r.owned.length;t++)e.name===r.owned[t].name&&(r.owned.splice(t,1),e.ownedBy="market");r.money+=e.cost.deed/2,f(r,"for, ",e.name,"was sold","".concat(e.cost.deed/2))}else e.properties>0&&(e.properties-=1,r.money+=e.cost.house/2,f(r,"for, ","at ".concat(e.name),"some land was sold","".concat(e.cost.house/2)));q()}},dontBuy:q,localPlayer:r,inspectionTarget:A,checkIfStation:c,checkIfUtility:d,buyType:"sell"}),(0,As.jsx)("div",{className:"player-overlay",children:(0,As.jsxs)("ul",{children:[(0,As.jsxs)("li",{children:["inspect"===x&&(0,As.jsx)("div",{className:"inspect-btn selected"}),"place"===x&&(0,As.jsxs)("div",{className:"place-mode-btn selected",children:[(0,As.jsxs)("span",{className:"house-group",children:[(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"})]}),(0,As.jsx)("span",{className:"break-line"}),(0,As.jsx)("span",{className:"hotel"})]}),"sell"===x&&(0,As.jsx)("div",{className:"sell-property-btn selected money",children:(0,As.jsx)("span",{className:"m-symbol"})})]}),(0,As.jsxs)("div",{children:[(0,As.jsxs)("li",{children:[r.name," ",(0,As.jsx)("span",{className:"logo logo-".concat(r.logo)})]}),(0,As.jsxs)("li",{className:"money",children:[(0,As.jsx)("span",{className:"m-symbol"}),r.money]})]})]})}),(0,As.jsx)("button",{className:"end-turn",onClick:a,value:"end-turn",children:"End Turn"}),"place"===x?void 0:(0,As.jsxs)("button",{onClick:function(){return W("place")},className:"top place-mode-btn",children:[(0,As.jsxs)("span",{className:"house-group",children:[(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"}),(0,As.jsx)("span",{className:"house"})]}),(0,As.jsx)("span",{className:"break-line"}),(0,As.jsx)("span",{className:"hotel"})]}),"sell"===x?void 0:(0,As.jsx)("button",{onClick:function(){return W("sell")},className:"bottom sell-property-btn money",children:(0,As.jsx)("span",{className:"m-symbol"})}),"inspect"===x?void 0:(0,As.jsx)("button",{onClick:function(){return W("inspect")},className:"sell"===x?"inspect-btn bottom":"inspect-btn top"}),(0,As.jsx)("button",{onClick:_?function(){C(!0),setTimeout((function(){return z()}),400)}:z,className:"test2",children:"stats"}),s(r)&&r.cards.length?(0,As.jsx)("button",{className:"use-card-btn",onClick:function(){l(r),r.cards.pop(),f(r,"used card to leave","Solitary Confinement","","")},children:"Get Out Of Jail"}):void 0]})},Zs=function(e){var t=e.localPlayer;return(0,As.jsxs)(As.Fragment,{children:[(0,As.jsx)("div",{className:"underlay"}),(0,As.jsx)("div",{className:"gameover",children:(0,As.jsx)("div",{className:"prompt",children:(0,As.jsxs)("div",{className:"buy-menu",children:[(0,As.jsx)("h1",{className:"money",children:"1st Place!"}),(0,As.jsx)(Ys,{players:[t],shouldClose:void 0}),(0,As.jsx)("div",{className:"btn-group",children:(0,As.jsx)(Ke,{to:"/",className:"buy-btn",children:"Return To Main Menu"})})]})})})]})},eu=function(e){var n=e.luckCards,r=e.flipped,i=e.setFlipped,a=p((0,t.useState)(),2),o=a[0],l=a[1],s=p((0,t.useState)(["Advance to go","Advance to last navy square","Advance to last pink square","Advance to last Station","Advance to last utility","Go forward 3 spaces","Go backwards 3 spaces","Random location"]),2),u=s[0],c=(s[1],p((0,t.useState)(["pay 100","receive 100","collect 10 from each player","give 10 to each player","every other player randomize locations but dont buy or pay tax","every other player goes to jail","go to jail","get outta jail free card"]),2)),d=c[0];c[1];(0,t.useEffect)((function(){"chance"===n.type?l(u[n.number]):l(d[n.number])}),[]);return(0,As.jsx)("ul",{className:"chance-card ".concat(r),onClick:"flipped"===r?void 0:function(){return i("flipping")},onAnimationEnd:function(){i("flipping"===r?"flipped flipping-part-2":"flipped")},children:"flipped"!==r&&"flipped flipping-part-2"!==r?(0,As.jsx)("div",{className:"card-back",children:(0,As.jsx)("div",{className:"chance-icon card-back"})}):(0,As.jsxs)("div",{className:"card-front",children:[(0,As.jsx)("li",{className:"card-name plain",children:n.type}),(0,As.jsx)("li",{className:"chance-icon card-back"}),(0,As.jsx)("li",{className:"chance-card-description",children:o})]})})},tu=function(e){var n=e.localPlayer,r=e.luckCards,i=e.useChance,a=e.useChest,o=p((0,t.useState)("no-flip"),2),l=o[0],s=o[1];return(0,As.jsxs)(As.Fragment,{children:[(0,As.jsx)("div",{className:"underlay"}),(0,As.jsx)("div",{className:"prompt",children:(0,As.jsxs)("div",{className:"prompt-menu",children:[(0,As.jsx)(eu,{luckCards:r,flipped:l,setFlipped:s}),(0,As.jsxs)("p",{className:"text-plain",children:["Your Money:",(0,As.jsxs)("span",{className:"money",children:[" \xa3",n.money]})]}),(0,As.jsx)("div",{className:"btn-group",children:(0,As.jsx)("button",{className:"buy-btn",onClick:"chance"===r.type?i:a,disabled:"flipped"!==l,children:"Confirm"})})]})})]})},nu=function(e){var n=e.gameLog,r=(0,t.useRef)();(0,t.useEffect)((function(){r.current.scrollTo(0,r.current.offsetHeight+21*n.length)}));return(0,As.jsx)("div",{className:"game-log",ref:r,children:n.length?n.map((function(e,t){return(0,As.jsxs)("p",{children:[(0,As.jsxs)("span",{className:"text-plain",children:[e.player," "]}),e.action,e.money&&(0,As.jsxs)("span",{className:"".concat("Commisions"===e.player2?"tax":"money"),children:[" ",(0,As.jsx)("span",{className:"m-symbol"}),e.money]}),(0,As.jsxs)("span",{className:"".concat("gets arrested to"===e.action?"tax":"text-yellow"),children:[" ",e.output]}),(0,As.jsxs)("span",{className:"text-plain",children:[" ",null===e||void 0===e?void 0:e.player2]})]},t)})):(0,As.jsx)("div",{})})},ru=(0,As.jsx)("span",{className:"m-symbol"}),iu=function(e){var n=e.settings,r=p((0,t.useState)(!0),2),i=(r[0],r[1]),a=p((0,t.useState)({show:!1,type:"chance",number:0}),2),o=a[0],l=a[1],s=function(){return l({show:!1,type:"",number:0})},c=p((0,t.useState)(!1),2),d=c[0],h=c[1],f=p((0,t.useState)(),2),v=f[0],y=f[1],g=p((0,t.useState)([]),2),_=g[0],b=g[1],k=p((0,t.useState)(!1),2),w=k[0],C=k[1],S=function(e,t){return{name:e,number:t,ownedBy:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,properties:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,cost:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{deed:0,house:100,hotel:500},rent:arguments.length>5&&void 0!==arguments[5]?arguments[5]:[100,200,300,400,500,600],group:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null}},x=function(e){for(var t=[S("New Samsara",1),S("Mondstadt",2,"market",0,{deed:60,house:50,hotel:50},[2,10,30,90,160,250],"brown"),S("Common Chest",3),S("Stormterrors lair",4,"market",0,{deed:60,house:50,hotel:50},[4,20,60,180,320,450],"brown"),S("Gliding Exam",5,"free parking",0,{deed:200,house:0,hotel:0}),S("Dornman Port",6,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),S("Dadaupa Gorge",7,"market",0,{deed:100,house:50,hotel:50},[6,30,90,270,400,550],"cyan"),S("Wish",8),S("Springvale",9,"market",0,{deed:100,house:50,hotel:50},[6,30,90,270,400,550],"cyan"),S("Dawn Winery",10,"market",0,{deed:120,house:50,hotel:50},[8,40,100,300,450,600],"cyan"),S("Solitary Confinement",11),S("Mt. Hula",12,"market",0,{deed:140,house:100,hotel:100},[10,50,150,450,625,750],"pink"),S("Yun-Han Opera",13,"market",0,{deed:150,house:100,hotel:100},[1,2,3,4,5,5]),S("Qingyun Peak",14,"market",0,{deed:140,house:100,hotel:100},[10,50,150,450,625,750],"pink"),S("Mt. Aocang",15,"market",0,{deed:160,house:100,hotel:100},[12,60,180,500,700,900],"pink"),S("Liyue Harbor",16,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),S("Mingyun Village",17,"market",0,{deed:180,house:100,hotel:100},[14,70,200,550,750,950],"orange"),S("Exquisite Chest",18),S("Qingce Village",19,"market",0,{deed:180,house:100,hotel:100},[14,70,200,550,750,950],"orange"),S("Qiaoying Village",20,"market",0,{deed:200,house:100,hotel:100},[16,80,220,600,800,1e3],"orange"),S("Commisions",21),S("Chirai Shrine",22,"market",0,{deed:220,house:150,hotel:150},[18,90,250,700,875,1050],"red"),S("Wish",23),S("Asase Shrine",24,"market",0,{deed:220,house:150,hotel:150},[18,90,250,700,875,1050],"red"),S("Mouun Shrine",25,"market",0,{deed:240,house:150,hotel:150},[20,100,300,750,925,1100],"red"),S("Ritou Port",26,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),S("Sangonomiya Shrine",27,"market",0,{deed:260,house:150,hotel:150},[22,110,330,800,975,1150],"yellow"),S("Grand Narukami Shrine",28,"market",0,{deed:260,house:150,hotel:150},[22,110,330,800,975,1150],"yellow"),S("Yae Publishing House",29,"market",0,{deed:150,house:100,hotel:100},[1,2,3,4,5,5]),S("Inazuma City",30,"market",0,{deed:260,house:150,hotel:150},[24,120,360,850,1025,1200],"yellow"),S("go to jail",31),S("Tanit Camps",32,"market",0,{deed:300,house:200,hotel:200},[26,130,390,900,1100,1275],"green"),S("Aaru Village",33,"market",0,{deed:300,house:200,hotel:200},[26,130,390,900,1100,1275],"green"),S("Luxurious Chest",34),S("Caravan Ribat",35,"market",0,{deed:320,house:200,hotel:200},[28,150,450,1e3,1200,1400],"green"),S("Port Ormos",36,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),S("Wish",37),S("Pardis Dhyai",38,"market",0,{deed:350,house:200,hotel:200},[35,175,550,1100,1300,1500],"navy"),S("Knowledge Capsule Scam",39,"free parking",0,{deed:100,house:0,hotel:0}),S("Sumeru City",40,"market",0,{deed:400,house:200,hotel:200},[50,200,669,1400,1700,2e3],"navy")],n=0;n<t.length;n++)if(t[n].number===e)return t[n]},E=function(e){var t;return m(O.squares).forEach((function(n){n.number===e.location&&(t=n)})),t},N=function(e){return 6===e||16===e||26===e||36===e},T=function(e){return 13===e||29===e},I=function(e,t){var n=0;return e.owned.forEach((function(e){e.group===t&&(n+=1)})),"navy"===t||"brown"===t?2===n:3===n},P=function(e,t,n){return{name:e,logo:t,turnOrder:n,location:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,dice1:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{number:1,hasRolled:!1},dice2:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{number:1,hasRolled:!1},money:arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,cards:arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],owned:arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],lost:arguments.length>9&&void 0!==arguments[9]&&arguments[9]}},R=(0,t.useState)({players:function(){var e=[],t=P(n.player1.name,n.player1.icon,1),r=P(n.player2.name,n.player2.icon,2);if(e.push(t,r),!n.player3.disable){var i=P(n.player3.name,n.player3.icon,3);e.push(i)}if(!n.player4.disable){var a=P(n.player4.name,n.player4.icon,4);e.push(a)}return e}(),round:1,turn:n.player1.name,squares:function(){for(var e,t=[],n=1;n<=40;n++)if([1===(e=n),2===e,3===e,4===e,5===e,6===e,7===e,8===e,9===e,10===e,11===e,12===e,13===e,14===e,15===e,16===e,17===e,18===e,19===e,20===e,21===e,22===e,23===e,24===e,25===e,26===e,27===e,28===e,29===e,30===e,31===e,32===e,33===e,34===e,35===e,36===e,37===e,38===e,39===e,40===e].some(Boolean)){var r=x(n);t.push(r)}else{var i=S("square ".concat(n),n,"market",0,{deed:200,house:100,hotel:100});t.push(i)}return t}(),chance:[],prize:[],jail:[]}),j=p(R,2),O=j[0],D=j[1],L=function(e){var t=[],n=1;return e.players.forEach((function(e){e.lost||(e.turnOrder=n,n++,t.push(e))})),e.players=t,t.length<=1&&C(!0),e},M=function(e){e.money<=0&&!e.owned.length&&(e.lost=!0)},A=p((0,t.useState)(O.players[0]),2),F=A[0],z=A[1];(0,t.useEffect)((function(){setTimeout((function(){return i(!1)}),1e3)}),[]);var U=function(e,t,n,r,i){var a={player:"".concat(e.name),action:t,player2:r,output:n,money:i};_.push(a),_.length>50&&_.shift()},B=function(e){var t=u({},O),n=m(O.players);switch(e.turnOrder){case 1:n[0]=e;break;case 2:n[1]=e;break;case 3:n[2]=e;break;case 4:n[3]=e}t.players=n,D(t)},q=function(e){var t;return u({},O).jail.forEach((function(n){n.name===e.name&&(t=!0)})),t},W=function(e,t){if(t.location+e>40){var n=40-(t.location+e);t.location=0-n,t.money+=200,U(t,"receives","A New Samsara","has began","200, ")}else t.location+=e;var r=E(t);return t.dice1.hasRolled&&t.dice2.hasRolled&&U(t,"arrives at",null===r||void 0===r?void 0:r.name,"",""),t},H=function(){return h(!1)},V=function(e,t){var n=u({},O),r=m(n.players);if(13!==t.number&&29!==t.number||(t=function(e){var t=F.dice1.number+F.dice2.number;return e.rent=[0,4*t,10*t],e}(t)),39===t.number||5===t.number)n=function(e,t){return t.squares.forEach((function(t){21===t.number&&39===e.location?(t.cost.deed+=100,e.money-=100,U(e,"pays","to","Commisions","100")):21===t.number&&5===e.location&&(t.cost.deed+=200,e.money-=200,U(e,"pays","to","Commisions","200"))})),z(e),t}(e,n);else{var i=0;r.forEach((function(n){q(n)||(I(n,t.group)&&0===t.properties&&n.name===t.ownedBy?(n.money+=2*t.rent[0],i=2*t.rent[0],U(e,"pays","to",n.name,"".concat(i))):n.name===t.ownedBy&&(n.money+=t.rent[t.properties],i=t.rent[t.properties],U(e,"pays","to",n.name,"".concat(i))))})),e.money-=i}z(e),B(e),D(n)},$=function(e){for(var t=u({},O),n=0;n<t.jail.length;n++)e.name===t.jail[n].name&&t.jail.splice(n,1);D(t)},Q=function(e){z(e),F.dice1.hasRolled&&F.dice2.hasRolled&&(e.dice1.number===e.dice2.number||e.dice1.number+e.dice2.number>7?($(e),U(e,"rolls a ".concat(e.dice1.number," and a ").concat(e.dice2.number," and"),"is released from solitary confinement","","")):U(e,"rolls a ".concat(e.dice1.number," and a ").concat(e.dice2.number," and"),"remains in solitary confinement another turn","",""))},K=function(e){var t=u({},O);O.jail.push(e),e.location=11,z(e),D(t),U(e,"gets arrested to","Solitary Confinement","","")},Y=function(e){return 21===e.location?function(e){var t=E(e);t&&(e.money+=t.cost.deed,U(e,"receives","as a reward from commisions","","".concat(t.cost.deed)),t.cost.deed=0,z(e))}(e):31===e.location?K(e):void 0},G=function(e){var t=Math.floor(8*Math.random());l({show:!0,type:e,number:t})},J=function(e){if(F.dice1.hasRolled&&F.dice2.hasRolled){var t=[1===e.location,11===e.location,21===e.location,31===e.location],n=[8===e.location,23===e.location,37===e.location],r=[3===e.location,18===e.location,34===e.location];return t.some(Boolean)?Y(e):n.some(Boolean)?G("chance"):r.some(Boolean)?G("chest"):void function(e){var t=E(e);t&&F.dice1.hasRolled&&F.dice2.hasRolled&&("market"!==t.ownedBy&&null!==t.ownedBy&&t.ownedBy!==e.name?V(e,t):t.ownedBy!==e.name&&t.cost.deed&&t.cost.deed<e.money&&(h(!0),y(t)))}(e)}};return(0,As.jsxs)("div",{className:"game-screen",children:[(0,As.jsx)(Xs,{gameBoard:O,localPlayer:F,rollDice:function(e){if(O.turn===F.name){var t=Math.ceil(6*Math.random()),n=u({},F);if((!n.dice1.hasRolled||1!==e)&&(!n.dice2.hasRolled||2!==e)){if(1===e?(n.dice1.number=t,n.dice1.hasRolled=!0):(n.dice2.number=t,n.dice2.hasRolled=!0),q(n))return Q(n);n=W(t,n),J(n),z(n),B(n)}}},changeTurn:function(){if(!(F.money<=0&&0!==F.owned.length)&&F.dice1.hasRolled&&F.dice2.hasRolled){var e=u({},O);M(F);var t=m(e.players),n=t.findIndex((function(t){return e.turn===t.name}));n+1>t.length-1?(e.turn=t[0].name,e.round++,t[0].dice1.hasRolled=!1,t[0].dice2.hasRolled=!1,z(t[0])):(e.turn=t[n+1].name,t[n+1].dice1.hasRolled=!1,t[n+1].dice2.hasRolled=!1,z(t[n+1])),e=L(e),D(e)}},jailedPlayers:O.jail,locationEventLeaveJail:$,checkJail:q,checkIfStation:N,checkIfUtility:T,checkForSet:I,pushToLog:function(e,t,n,r,i){var a=m(_),o={player:"".concat(e.name),action:t,player2:r,output:n,money:i};a.push(o),_.length>50&&_.shift(),b(a)}}),d&&(0,As.jsx)(Gs,{buyProperty:function(){var e=u({},F),t=E(e);t&&(F.money>t.cost.deed&&(t.ownedBy=F.name,e.money-=t.cost.deed,e.owned.push(t),e.owned=function(e){var t=[],n=[],r=[],i=[],a=[],o=[],l=[],s=[],u=[];return e.owned.forEach((function(e){"brown"===e.group&&t.push(e),"cyan"===e.group&&n.push(e),"pink"===e.group&&r.push(e),"orange"===e.group&&i.push(e),"red"===e.group&&a.push(e),"yellow"===e.group&&o.push(e),"green"===e.group&&l.push(e),"navy"===e.group&&s.push(e),e.group||u.push(e)})),t.concat(n).concat(r).concat(i).concat(a).concat(o).concat(l).concat(s).concat(u)}(e),N(t.number)&&function(){var e=u({},O),t=0;e.squares.forEach((function(e){N(e.number)&&e.ownedBy===F.name&&(t+=1)})),e.squares.forEach((function(e){N(e.number)&&e.ownedBy===F.name&&(e.properties=t)})),D(e)}(),T(t.number)&&function(){var e=u({},O),t=0;e.squares.forEach((function(e){T(e.number)&&e.ownedBy===F.name&&(t+=1)})),e.squares.forEach((function(e){T(e.number)&&e.ownedBy===F.name&&(e.properties=t)})),D(e)}()),U(e,"for",null===v||void 0===v?void 0:v.name,"was bought","".concat(null===v||void 0===v?void 0:v.cost.deed,", ")),z(e),B(e),H())},dontBuy:H,localPlayer:F,inspectionTarget:v,checkIfStation:N,checkIfUtility:T,buyType:"property"}),o.show&&(0,As.jsx)(tu,{localPlayer:F,luckCards:o,useChance:function(){var e=u({},F),t=e.location;switch(o.number){case 0:e=W(41-t,e);break;case 1:e=W(40-t,e);break;case 2:e=W(55-t,e);break;case 3:e=W(76-t,e);break;case 4:e=W(69-t,e);break;case 5:e=W(3,e);break;case 6:e=W(-3,e);break;case 7:var n=Math.ceil(41*Math.random());e=W(n,e)}J(e),z(e),B(e),s()},useChest:function(){var e=u({},O),t=u({},F);switch(o.number){case 0:t.money-=100,U(t,"pays","","","100");break;case 1:t.money+=100,U(t,"receives","","","100");break;case 2:e.players.forEach((function(e){t.name!==e.name&&(e.money-=10,t.money+=10,U(t,"pays","to",e.name,"10"))}));break;case 3:e.players.forEach((function(e){t.name!==e.name&&(e.money+=10,t.money-=10,U(t,"receives","from",e.name,"10"))}));break;case 4:e.players.forEach((function(e){var t=Math.ceil(41*Math.random());q(e)||(e.location=t);var n=E(e);U(e,"is forced to",null===n||void 0===n?void 0:n.name,"","")}));break;case 5:e.players.forEach((function(e){t.name!==e.name&&K(e)}));break;case 6:K(t);break;case 7:t.cards.push("get out of jail"),U(t,"receives","escape confinement card","","")}z(t),B(t),s()}}),w&&(0,As.jsx)(Zs,{localPlayer:F}),(0,As.jsx)(nu,{gameLog:_})]})},au=function(e){var n=e.settings,r=(e.sessionName,e.playerNumber),i=p((0,t.useState)(!0),2),a=(i[0],i[1]),o=p((0,t.useState)({show:!1,type:"chance",number:0}),2),l=o[0],s=o[1],c=function(){return s({show:!1,type:"",number:0})},d=p((0,t.useState)(!1),2),h=d[0],f=d[1],v=p((0,t.useState)(),2),y=v[0],g=v[1],_=p((0,t.useState)([]),2),b=_[0],k=_[1],w=p((0,t.useState)(!1),2),C=w[0],S=w[1],x=p((0,t.useState)((function(){switch(r){case 1:return n.player1.name;case 2:return n.player2.name;case 3:return n.player3.name;case 4:return n.player4.name}})),2),E=x[0],N=(x[1],function(e,t){return{name:e,number:t,ownedBy:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,properties:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,cost:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{deed:0,house:100,hotel:500},rent:arguments.length>5&&void 0!==arguments[5]?arguments[5]:[100,200,300,400,500,600],group:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null}}),T=function(e){for(var t=[N("New Samsara",1),N("Mondstadt",2,"market",0,{deed:60,house:50,hotel:50},[2,10,30,90,160,250],"brown"),N("Common Chest",3),N("Stormterrors lair",4,"market",0,{deed:60,house:50,hotel:50},[4,20,60,180,320,450],"brown"),N("Gliding Exam",5,"free parking",0,{deed:200,house:0,hotel:0}),N("Dornman Port",6,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),N("Dadaupa Gorge",7,"market",0,{deed:100,house:50,hotel:50},[6,30,90,270,400,550],"cyan"),N("Wish",8),N("Springvale",9,"market",0,{deed:100,house:50,hotel:50},[6,30,90,270,400,550],"cyan"),N("Dawn Winery",10,"market",0,{deed:120,house:50,hotel:50},[8,40,100,300,450,600],"cyan"),N("Solitary Confinement",11),N("Mt. Hula",12,"market",0,{deed:140,house:100,hotel:100},[10,50,150,450,625,750],"pink"),N("Yun-Han Opera",13,"market",0,{deed:150,house:100,hotel:100},[1,2,3,4,5,5]),N("Qingyun Peak",14,"market",0,{deed:140,house:100,hotel:100},[10,50,150,450,625,750],"pink"),N("Mt. Aocang",15,"market",0,{deed:160,house:100,hotel:100},[12,60,180,500,700,900],"pink"),N("Liyue Harbor",16,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),N("Mingyun Village",17,"market",0,{deed:180,house:100,hotel:100},[14,70,200,550,750,950],"orange"),N("Exquisite Chest",18),N("Qingce Village",19,"market",0,{deed:180,house:100,hotel:100},[14,70,200,550,750,950],"orange"),N("Qiaoying Village",20,"market",0,{deed:200,house:100,hotel:100},[16,80,220,600,800,1e3],"orange"),N("Commisions",21),N("Chirai Shrine",22,"market",0,{deed:220,house:150,hotel:150},[18,90,250,700,875,1050],"red"),N("Wish",23),N("Asase Shrine",24,"market",0,{deed:220,house:150,hotel:150},[18,90,250,700,875,1050],"red"),N("Mouun Shrine",25,"market",0,{deed:240,house:150,hotel:150},[20,100,300,750,925,1100],"red"),N("Ritou Port",26,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),N("Sangonomiya Shrine",27,"market",0,{deed:260,house:150,hotel:150},[22,110,330,800,975,1150],"yellow"),N("Grand Narukami Shrine",28,"market",0,{deed:260,house:150,hotel:150},[22,110,330,800,975,1150],"yellow"),N("Yae Publishing House",29,"market",0,{deed:150,house:100,hotel:100},[1,2,3,4,5,5]),N("Inazuma City",30,"market",0,{deed:260,house:150,hotel:150},[24,120,360,850,1025,1200],"yellow"),N("go to jail",31),N("Tanit Camps",32,"market",0,{deed:300,house:200,hotel:200},[26,130,390,900,1100,1275],"green"),N("Aaru Village",33,"market",0,{deed:300,house:200,hotel:200},[26,130,390,900,1100,1275],"green"),N("Luxurious Chest",34),N("Caravan Ribat",35,"market",0,{deed:320,house:200,hotel:200},[28,150,450,1e3,1200,1400],"green"),N("Port Ormos",36,"market",0,{deed:200,house:100,hotel:100},[0,25,50,100,200]),N("Wish",37),N("Pardis Dhyai",38,"market",0,{deed:350,house:200,hotel:200},[35,175,550,1100,1300,1500],"navy"),N("Knowledge Capsule Scam",39,"free parking",0,{deed:100,house:0,hotel:0}),N("Sumeru City",40,"market",0,{deed:400,house:200,hotel:200},[50,200,669,1400,1700,2e3],"navy")],n=0;n<t.length;n++)if(t[n].number===e)return t[n]},I=function(e){var t;return m(A.squares).forEach((function(n){n.number===e.location&&(t=n)})),t},P=function(e,t){var n;return m(t.players).forEach((function(t){e===t.name&&(n=t)})),n},R=function(e){return 6===e||16===e||26===e||36===e},j=function(e){return 13===e||29===e},O=function(e,t){var n=0;return e.owned.forEach((function(e){e.group===t&&(n+=1)})),"navy"===t||"brown"===t?2===n:3===n},D=function(e,t,n){return{name:e,logo:t,turnOrder:n,location:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,dice1:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{number:1,hasRolled:!1},dice2:arguments.length>5&&void 0!==arguments[5]?arguments[5]:{number:1,hasRolled:!1},money:arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e3,cards:arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],owned:arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],lost:arguments.length>9&&void 0!==arguments[9]&&arguments[9]}},L=(0,t.useState)({players:function(){var e=[],t=D(n.player1.name,n.player1.icon,1),r=D(n.player2.name,n.player2.icon,2);if(e.push(t,r),!n.player3.disable){var i=D(n.player3.name,n.player3.icon,3);e.push(i)}if(!n.player4.disable){var a=D(n.player4.name,n.player4.icon,4);e.push(a)}return e}(),round:1,turn:n.player1.name,squares:function(){for(var e,t=[],n=1;n<=40;n++)if([1===(e=n),2===e,3===e,4===e,5===e,6===e,7===e,8===e,9===e,10===e,11===e,12===e,13===e,14===e,15===e,16===e,17===e,18===e,19===e,20===e,21===e,22===e,23===e,24===e,25===e,26===e,27===e,28===e,29===e,30===e,31===e,32===e,33===e,34===e,35===e,36===e,37===e,38===e,39===e,40===e].some(Boolean)){var r=T(n);t.push(r)}else{var i=N("square ".concat(n),n,"market",0,{deed:200,house:100,hotel:100});t.push(i)}return t}(),jail:[]}),M=p(L,2),A=M[0],F=M[1],z=function(){var e=Ze(Je().mark((function e(){return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ps(Cs(ou,"".concat(n.player1.name,"/gameBoard")),function(){var e=Ze(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.val();case 2:n=e.sent,U(n.players,n.round,n.turn,n.squares,n.jail);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=u({},A),l=e[0].owned?e[0].owned:[],s=e[1].owned?e[1].owned:[];if(o.players=[D(e[0].name,e[0].logo,e[0].turnOrder,e[0].location,{number:1,hasRolled:!1},{number:1,hasRolled:!1},e[0].money,e[0].cards,l,e[0].lost),D(e[1].name,e[1].logo,e[1].turnOrder,e[1].location,{number:1,hasRolled:!1},{number:1,hasRolled:!1},e[1].money,e[1].cards,s,e[1].lost)],!n.player3.disable){var c=e[2].owned?e[2].owned:[],d=D(e[2].name,e[2].logo,e[2].turnOrder,e[2].location,{number:1,hasRolled:!1},{number:1,hasRolled:!1},e[2].money,e[2].cards,c,e[2].lost);o.players.push(d)}if(!n.player4.disable){var h=e[3].owned?e[3].owned:[],f=D(e[3].name,e[3].logo,e[3].turnOrder,e[3].location,{number:1,hasRolled:!1},{number:1,hasRolled:!1},e[3].money,e[3].cards,h,e[3].lost);o.players.push(f)}o.squares=i,o.round=t,o.turn=r,o.jail=a;var p=P(r,o);p&&(K(p),F(o))},B=function(){m(A.players).forEach((function(e){e.dice1.hasRolled=!1,e.dice2.hasRolled=!1}))},q=function(){var e=Ze(Je().mark((function e(){var t,r=arguments;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:A,B(),xs(Cs(ou,"".concat(n.player1.name,"/gameBoard")),t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=b.length?b:[{player:"",action:"the game has begun",output:""}];xs(Cs(ou,"".concat(n.player1.name,"/log")),e)};(0,t.useEffect)((function(){1===r&&q(),1===r&&setTimeout((function(){return W()}),100),setTimeout((function(){return z()}),250),setTimeout((function(){Ps(Cs(ou,"".concat(n.player1.name,"/log")),function(){var e=Ze(Je().mark((function e(t){var n;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.val();case 2:n=e.sent,k(m(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),500)}),[]);var H=function(e){var t=[],n=1;return e.players.forEach((function(e){e.lost||(e.turnOrder=n,n++,t.push(e))})),e.players=t,t.length<=1&&S(!0),e},V=function(e){e.money<=0&&!e.owned.length&&(e.lost=!0)},$=p((0,t.useState)(A.players[0]),2),Q=$[0],K=$[1];(0,t.useEffect)((function(){setTimeout((function(){return a(!1)}),1e3)}),[]);var Y=function(e,t,n,r,i){var a={player:"".concat(e.name),action:t,player2:r,output:n,money:i};b.push(a),b.length>50&&b.shift()},G=function(e){var t=u({},A),n=m(A.players);switch(e.turnOrder){case 1:n[0]=e;break;case 2:n[1]=e;break;case 3:n[2]=e;break;case 4:n[3]=e}t.players=n,F(t)},J=function(e){var t;return u({},A).jail.forEach((function(n){n.name===e.name&&(t=!0)})),t},X=function(e,t){if(t.location+e>40){var n=40-(t.location+e);t.location=0-n,t.money+=200,Y(t,"receives","A New Samsara","has began","200, ")}else t.location+=e;var r=I(t);return t.dice1.hasRolled&&t.dice2.hasRolled&&Y(t,"arrives at",null===r||void 0===r?void 0:r.name,"",""),t},Z=function(){return f(!1)},ee=function(e,t){var n=u({},A),r=m(n.players);if(13!==t.number&&29!==t.number||(t=function(e){var t=Q.dice1.number+Q.dice2.number;return e.rent=[0,4*t,10*t],e}(t)),39===t.number||5===t.number)n=function(e,t){return t.squares.forEach((function(t){21===t.number&&39===e.location?(t.cost.deed+=100,e.money-=100,Y(e,"pays","to","Commisions","100")):21===t.number&&5===e.location&&(t.cost.deed+=200,e.money-=200,Y(e,"pays","to","Commisions","200"))})),K(e),t}(e,n);else{var i=0;r.forEach((function(n){J(n)||(O(n,t.group)&&0===t.properties&&n.name===t.ownedBy?(n.money+=2*t.rent[0],i=2*t.rent[0],Y(e,"pays","to",n.name,"".concat(i))):n.name===t.ownedBy&&(n.money+=t.rent[t.properties],i=t.rent[t.properties],Y(e,"pays","to",n.name,"".concat(i))))})),e.money-=i}K(e),G(e),F(n)},te=function(e){for(var t=u({},A),n=0;n<t.jail.length;n++)e.name===t.jail[n].name&&t.jail.splice(n,1);F(t)},ne=function(e){K(e),Q.dice1.hasRolled&&Q.dice2.hasRolled&&(e.dice1.number===e.dice2.number||e.dice1.number+e.dice2.number>7?(te(e),Y(e,"rolls a ".concat(e.dice1.number," and a ").concat(e.dice2.number," and"),"is released from solitary confinement","","")):Y(e,"rolls a ".concat(e.dice1.number," and a ").concat(e.dice2.number," and"),"remains in solitary confinement another turn","",""))},re=function(e){var t=u({},A);A.jail.push(e),e.location=11,K(e),F(t),Y(e,"gets arrested to","Solitary Confinement","","")},ie=function(e){return 21===e.location?function(e){var t=I(e);t&&(e.money+=t.cost.deed,Y(e,"receives","as a reward from commisions","","".concat(t.cost.deed)),t.cost.deed=0,K(e))}(e):31===e.location?re(e):void 0},ae=function(e){var t=Math.floor(8*Math.random());s({show:!0,type:e,number:t})},oe=function(e){if(Q.dice1.hasRolled&&Q.dice2.hasRolled){var t=[1===e.location,11===e.location,21===e.location,31===e.location],n=[8===e.location,23===e.location,37===e.location],r=[3===e.location,18===e.location,34===e.location];return t.some(Boolean)?ie(e):n.some(Boolean)?ae("chance"):r.some(Boolean)?ae("chest"):void function(e){var t=I(e);t&&Q.dice1.hasRolled&&Q.dice2.hasRolled&&("market"!==t.ownedBy&&null!==t.ownedBy&&t.ownedBy!==e.name?ee(e,t):t.ownedBy!==e.name&&t.cost.deed&&t.cost.deed<e.money&&(f(!0),g(t)))}(e)}};return(0,As.jsxs)("div",{className:"game-screen",children:[(0,As.jsx)(Xs,{gameBoard:A,localPlayer:Q,rollDice:function(e){if(A.turn===Q.name&&E===Q.name){var t=Math.ceil(6*Math.random()),n=u({},Q);if((!n.dice1.hasRolled||1!==e)&&(!n.dice2.hasRolled||2!==e)){if(1===e?(n.dice1.number=t,n.dice1.hasRolled=!0):(n.dice2.number=t,n.dice2.hasRolled=!0),J(n))return ne(n);n=X(t,n),oe(n),K(n),G(n)}}},changeTurn:function(){if(!(Q.money<=0&&0!==Q.owned.length)&&E===Q.name&&Q.dice1.hasRolled&&Q.dice2.hasRolled){var e=u({},A);V(Q);var t=m(e.players),n=t.findIndex((function(t){return e.turn===t.name}));n+1>t.length-1?(e.turn=t[0].name,e.round++,t[0].dice1.hasRolled=!1,t[0].dice2.hasRolled=!1,K(t[0])):(e.turn=t[n+1].name,t[n+1].dice1.hasRolled=!1,t[n+1].dice2.hasRolled=!1,K(t[n+1])),e=H(e),F(e),q(e),W()}},jailedPlayers:A.jail,locationEventLeaveJail:te,checkJail:J,checkIfStation:R,checkIfUtility:j,checkForSet:O,pushToLog:function(e,t,n,r,i){var a=m(b),o={player:"".concat(e.name),action:t,player2:r,output:n,money:i};a.push(o),b.length>50&&b.shift(),k(a)}}),h&&(0,As.jsx)(Gs,{buyProperty:function(){var e=u({},Q),t=I(e);t&&(Q.money>t.cost.deed&&(t.ownedBy=Q.name,e.money-=t.cost.deed,e.owned.push(t),e.owned=function(e){var t=[],n=[],r=[],i=[],a=[],o=[],l=[],s=[],u=[];return e.owned.forEach((function(e){"brown"===e.group&&t.push(e),"cyan"===e.group&&n.push(e),"pink"===e.group&&r.push(e),"orange"===e.group&&i.push(e),"red"===e.group&&a.push(e),"yellow"===e.group&&o.push(e),"green"===e.group&&l.push(e),"navy"===e.group&&s.push(e),e.group||u.push(e)})),t.concat(n).concat(r).concat(i).concat(a).concat(o).concat(l).concat(s).concat(u)}(e),R(t.number)&&function(){var e=u({},A),t=0;e.squares.forEach((function(e){R(e.number)&&e.ownedBy===Q.name&&(t+=1)})),e.squares.forEach((function(e){R(e.number)&&e.ownedBy===Q.name&&(e.properties=t)})),F(e)}(),j(t.number)&&function(){var e=u({},A),t=0;e.squares.forEach((function(e){j(e.number)&&e.ownedBy===Q.name&&(t+=1)})),e.squares.forEach((function(e){j(e.number)&&e.ownedBy===Q.name&&(e.properties=t)})),F(e)}()),Y(e,"for",null===y||void 0===y?void 0:y.name,"was bought","".concat(null===y||void 0===y?void 0:y.cost.deed,", ")),K(e),G(e),Z())},dontBuy:Z,localPlayer:Q,inspectionTarget:y,checkIfStation:R,checkIfUtility:j,buyType:"property"}),l.show&&(0,As.jsx)(tu,{localPlayer:Q,luckCards:l,useChance:function(){var e=u({},Q),t=e.location;switch(l.number){case 0:e=X(41-t,e);break;case 1:e=X(40-t,e);break;case 2:e=X(55-t,e);break;case 3:e=X(76-t,e);break;case 4:e=X(69-t,e);break;case 5:e=X(3,e);break;case 6:e=X(-3,e);break;case 7:var n=Math.ceil(41*Math.random());e=X(n,e)}oe(e),K(e),G(e),c()},useChest:function(){var e=u({},A),t=u({},Q);switch(l.number){case 0:t.money-=100,Y(t,"pays","","","100");break;case 1:t.money+=100,Y(t,"receives","","","100");break;case 2:e.players.forEach((function(e){t.name!==e.name&&(e.money-=10,t.money+=10,Y(t,"pays","to",e.name,"10"))}));break;case 3:e.players.forEach((function(e){t.name!==e.name&&(e.money+=10,t.money-=10,Y(t,"receives","from",e.name,"10"))}));break;case 4:e.players.forEach((function(e){var t=Math.ceil(41*Math.random());J(e)||(e.location=t);var n=I(e);Y(e,"is forced to",null===n||void 0===n?void 0:n.name,"","")}));break;case 5:e.players.forEach((function(e){t.name!==e.name&&re(e)}));break;case 6:re(t);break;case 7:t.cards.push("get out of jail"),Y(t,"receives","escape confinement card","","")}K(t),G(t),c()}}),C&&(0,As.jsx)(Zs,{localPlayer:Q}),(0,As.jsx)(nu,{gameLog:b})]})},ou=(In(function(){if(Kn&&Kn.apiKey)return Kn;throw new Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.js")}()),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=bn.get(e);if(!t&&e===gn)return In();if(!t)throw En.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0,n=Sn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=ht("database");r&&Ms.apply(void 0,[n].concat(m(r)))}return n}()),lu=function(){var e=p((0,t.useState)({player1:{name:"Player 1",icon:"dendro"},player2:{name:"Player 2",icon:"anemo"},player3:{name:"Player 3",icon:"geo",disable:!1},player4:{name:"Player 4",icon:"cryo",disable:!1}}),2),n=e[0],r=e[1],i=p((0,t.useState)(),2),a=i[0],o=i[1],l=p((0,t.useState)(0),2),s=l[0],c=l[1];return(0,As.jsx)($e,{basename:"/board-game",children:(0,As.jsxs)(Ue,{children:[(0,As.jsx)(Fe,{path:"/",element:(0,As.jsx)(Fs,{settings:n,setSettings:r,playerNumber:s,setPlayerNumber:c,sessionName:a,setSessionName:o,inputHandler:function(e,t){var i=u({},n);switch(t){case 1:i.player1.name=e.target.value;break;case 2:i.player2.name=e.target.value;break;case 3:i.player3.name=e.target.value;break;case 4:i.player4.name=e.target.value}r(i),console.log(n)},changeIcon:function(e,t){var i=u({},n),a=function(e,t){var r=["dendro","anemo","geo","cryo","electro","pyro","hydro"],i=r.findIndex((function(e){return 1===t?e===n.player1.icon:2===t?e===n.player2.icon:3===t?e===n.player3.icon:4===t?e===n.player4.icon:console.error("no icon found")}));return"forward"===e&&i+1>r.length-1?r[0]:"backward"===e&&i-1<0?r[r.length-1]:"forward"===e?r[i+1]:r[i-1]}(e.target.value,t);switch(t){case 1:i.player1.icon=a;break;case 2:i.player2.icon=a;break;case 3:i.player3.icon=a;break;case 4:i.player4.icon=a}r(i)},disablePlayer:function(e){var t=u({},n);3===e?t.player3.disable=!t.player3.disable:t.player4.disable=!t.player4.disable,r(t),console.log(n.player3)}})}),(0,As.jsx)(Fe,{path:"/game",element:(0,As.jsx)(iu,{settings:n})}),(0,As.jsx)(Fe,{path:"/online-game",element:(0,As.jsx)(au,{settings:n,playerNumber:s,sessionName:a})})]})})};i.createRoot(document.getElementById("root")).render((0,As.jsx)(t.StrictMode,{children:(0,As.jsx)(lu,{})}))}()}();
//# sourceMappingURL=main.5f7d13a1.js.map